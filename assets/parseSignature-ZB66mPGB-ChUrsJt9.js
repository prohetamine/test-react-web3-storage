const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CgI_Ukj5-rnzCD-Im.js","assets/index-BsMns30z.js","assets/index-CAs72SPe.css"])))=>i.map(i=>d[i]);
import{ai as Si,aj as yt,ak as Se,al as Jn,am as zs,an as zi,ao as Rs,ap as H,aq as le,ar as Cs,as as dt,at as U,au as ot,av as Gs,aw as F,ax as me,ay as ye,az as Us,aA as ze,aB as rt,aC as Gt,aD as jr,aE as js,aF as Ri,aG as Lr,aH as kt,aI as Qt,aJ as Ci,aK as Mr,aL as qt,aM as Xn,aN as Gi,aO as Ui,aP as Ls,aQ as $t,aR as st,aS as It,aT as bt,aU as Ms,aV as qr,aW as ji,aX as ct,aY as Re,aZ as qs,a_ as Li,a$ as Qn,b0 as Mi,b1 as Jt,b2 as Ce,b3 as Te,b4 as Dr,b5 as Vr,b6 as Hr,b7 as _r,b8 as Zr,b9 as Wr,ba as Kr,bb as Yr,bc as pt,bd as ue,be as Me,bf as Ut,bg as qi,bh as ge,bi as Di,bj as Jr,bk as Ds,bl as Vs,bm as fe,bn as tr,bo as Hs,bp as Vi,bq as Hi,br as _i,bs as Zi,bt as Xr,bu as _s,bv as Wi,bw as An,bx as Ki,by as Yi,bz as Ji,bA as Xi,bB as Fn,bC as Ot,bD as Zs,bE as Qr,bF as Qi,bG as qe,bH as to,bI as Ws,bJ as Ks,bK as eo,bL as ts,bM as Tn,bN as es,bO as no,bP as ro,bQ as so,bR as ao,bS as ln,bT as io,bU as oo,bV as co,bW as uo,bX as lo,bY as fo,bZ as bo}from"./index-BsMns30z.js";const ho="1.2.3";let J=class $n extends Error{constructor(e,n={}){var r;const s=n.cause instanceof $n?n.cause.details:(r=n.cause)!=null&&r.message?n.cause.message:n.details,a=n.cause instanceof $n&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: https://abitype.dev${a}`]:[],...s?[`Details: ${s}`]:[],`Version: abitype@${ho}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=s,this.docsPath=a,this.metaMessages=n.metaMessages,this.shortMessage=e}};const Ys=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function po(t){return Ys.test(t)}function mo(t){return Ot(Ys,t)}const Js=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function yo(t){return Js.test(t)}function go(t){return Ot(Js,t)}const Xs=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function wo(t){return Xs.test(t)}function vo(t){return Ot(Xs,t)}const Qs=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function De(t){return Qs.test(t)}function xo(t){return Ot(Qs,t)}const ta=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Po(t){return ta.test(t)}function Bo(t){return Ot(ta,t)}const ea=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Eo(t){return ea.test(t)}function ko(t){return Ot(ea,t)}const Io=/^receive\(\) external payable$/;function No(t){return Io.test(t)}const ns=new Set(["memory","indexed","storage","calldata"]),Ao=new Set(["indexed"]),On=new Set(["calldata","memory","storage"]);class Fo extends J{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class To extends J{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class $o extends J{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Oo extends J{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class So extends J{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class zo extends J{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Ro extends J{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Co extends J{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Go extends J{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class te extends J{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Uo extends J{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class jo extends J{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Lo extends J{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Mo extends J{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function qo(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let a="";for(const i of s[1])a+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${a}})`}return e?`${e}:${t}${r}`:`${t}${r}`}const fn=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Sn(t,e={}){if(wo(t))return Do(t,e);if(yo(t))return Vo(t,e);if(po(t))return Ho(t,e);if(Po(t))return _o(t,e);if(Eo(t))return Zo(t);if(No(t))return{type:"receive",stateMutability:"payable"};throw new Uo({signature:t})}function Do(t,e={}){const n=vo(t);if(!n)throw new te({signature:t,type:"function"});const r=X(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(Nt(r[o],{modifiers:On,structs:e,type:"function"}));const i=[];if(n.returns){const o=X(n.returns),c=o.length;for(let u=0;u<c;u++)i.push(Nt(o[u],{modifiers:On,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function Vo(t,e={}){const n=go(t);if(!n)throw new te({signature:t,type:"event"});const r=X(n.parameters),s=[],a=r.length;for(let i=0;i<a;i++)s.push(Nt(r[i],{modifiers:Ao,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Ho(t,e={}){const n=mo(t);if(!n)throw new te({signature:t,type:"error"});const r=X(n.parameters),s=[],a=r.length;for(let i=0;i<a;i++)s.push(Nt(r[i],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function _o(t,e={}){const n=Bo(t);if(!n)throw new te({signature:t,type:"constructor"});const r=X(n.parameters),s=[],a=r.length;for(let i=0;i<a;i++)s.push(Nt(r[i],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Zo(t){const e=ko(t);if(!e)throw new te({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const Wo=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Ko=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Yo=/^u?int$/;function Nt(t,e){var n,r;const s=qo(t,e?.type,e?.structs);if(fn.has(s))return fn.get(s);const a=Zs.test(t),i=Ot(a?Ko:Wo,t);if(!i)throw new So({param:t});if(i.name&&Xo(i.name))throw new zo({param:t,name:i.name});const o=i.name?{name:i.name}:{},c=i.modifier==="indexed"?{indexed:!0}:{},u=e?.structs??{};let l,f={};if(a){l="tuple";const b=X(i.type),m=[],h=b.length;for(let v=0;v<h;v++)m.push(Nt(b[v],{structs:u}));f={components:m}}else if(i.type in u)l="tuple",f={components:u[i.type]};else if(Yo.test(i.type))l=`${i.type}256`;else if(i.type==="address payable")l="address";else if(l=i.type,e?.type!=="struct"&&!na(l))throw new $o({type:l});if(i.modifier){if(!((r=(n=e?.modifiers)==null?void 0:n.has)!=null&&r.call(n,i.modifier)))throw new Ro({param:t,type:e?.type,modifier:i.modifier});if(On.has(i.modifier)&&!Qo(l,!!i.array))throw new Co({param:t,type:e?.type,modifier:i.modifier})}const d={type:`${l}${i.array??""}`,...o,...c,...f};return fn.set(s,d),d}function X(t,e=[],n="",r=0){const s=t.trim().length;for(let a=0;a<s;a++){const i=t[a],o=t.slice(a+1);switch(i){case",":return r===0?X(o,[...e,n.trim()]):X(o,e,`${n}${i}`,r);case"(":return X(o,e,`${n}${i}`,r+1);case")":return X(o,e,`${n}${i}`,r-1);default:return X(o,e,`${n}${i}`,r)}}if(n==="")return e;if(r!==0)throw new Mo({current:n,depth:r});return e.push(n.trim()),e}function na(t){return t==="address"||t==="bool"||t==="function"||t==="string"||Ws.test(t)||Ks.test(t)}const Jo=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Xo(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||Ws.test(t)||Ks.test(t)||Jo.test(t)}function Qo(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function er(t){const e={},n=t.length;for(let i=0;i<n;i++){const o=t[i];if(!De(o))continue;const c=xo(o);if(!c)throw new te({signature:o,type:"struct"});const u=c.properties.split(";"),l=[],f=u.length;for(let d=0;d<f;d++){const b=u[d].trim();if(!b)continue;const m=Nt(b,{type:"struct"});l.push(m)}if(!l.length)throw new jo({signature:o});e[c.name]=l}const r={},s=Object.entries(e),a=s.length;for(let i=0;i<a;i++){const[o,c]=s[i];r[o]=ra(c,e)}return r}const t0=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function ra(t=[],e={},n=new Set){const r=[],s=t.length;for(let a=0;a<s;a++){const i=t[a];if(Zs.test(i.type))r.push(i);else{const o=Ot(t0,i.type);if(!(o!=null&&o.type))throw new Go({abiParameter:i});const{array:c,type:u}=o;if(u in e){if(n.has(u))throw new Lo({type:u});r.push({...i,type:`tuple${c??""}`,components:ra(e[u],e,new Set([...n,u]))})}else if(na(u))r.push(i);else throw new To({type:u})}}return r}function sa(t){const e=er(t),n=[],r=t.length;for(let s=0;s<r;s++){const a=t[s];De(a)||n.push(Sn(a,e))}return n}function e0(t){let e;if(typeof t=="string")e=Sn(t);else{const n=er(t),r=t.length;for(let s=0;s<r;s++){const a=t[s];if(!De(a)){e=Sn(a,n);break}}}if(!e)throw new Fo({signature:t});return e}function n0(t){const e=[];if(typeof t=="string"){const n=X(t),r=n.length;for(let s=0;s<r;s++)e.push(Nt(n[s],{modifiers:ns}))}else{const n=er(t),r=t.length;for(let s=0;s<r;s++){const a=t[s];if(De(a))continue;const i=X(a),o=i.length;for(let c=0;c<o;c++)e.push(Nt(i[c],{modifiers:ns,structs:n}))}}if(e.length===0)throw new Oo({params:t});return e}function G(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:a=>e(t,a)}class r0 extends U{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const rs="/docs/contract/encodeEventTopics";function we(t){var e;const{abi:n,eventName:r,args:s}=t;let a=n[0];if(r){const u=Qt({abi:n,name:r});if(!u)throw new Mr(r,{docsPath:rs});a=u}if(a.type!=="event")throw new Mr(void 0,{docsPath:rs});const i=qt(a),o=Xn(i);let c=[];if(s&&"inputs"in a){const u=(e=a.inputs)==null?void 0:e.filter(f=>"indexed"in f&&f.indexed),l=Array.isArray(s)?s:Object.values(s).length>0?u?.map(f=>s[f.name])??[]:[];l.length>0&&(c=u?.map((f,d)=>Array.isArray(l[d])?l[d].map((b,m)=>ss({param:f,value:l[d][m]})):typeof l[d]<"u"&&l[d]!==null?ss({param:f,value:l[d]}):null)??[])}return[o,...c]}function ss({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Ut(Me(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new r0(t.type);return ge([t],[e])}function Ve(t,{method:e}){var n,r;const s={};return t.transport.type==="fallback"&&((r=(n=t.transport).onResponse)==null||r.call(n,({method:a,response:i,status:o,transport:c})=>{o==="success"&&e===a&&(s[i]=c.request)})),a=>s[a]||t.request}async function aa(t,e){const{address:n,abi:r,args:s,eventName:a,fromBlock:i,strict:o,toBlock:c}=e,u=Ve(t,{method:"eth_newFilter"}),l=a?we({abi:r,args:s,eventName:a}):void 0,f=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?F(i):i,toBlock:typeof c=="bigint"?F(c):c,topics:l}]});return{abi:r,args:s,eventName:a,id:f,request:u(f),strict:!!o,type:"event"}}function Q(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const s0={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},ia={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},a0={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let as=class extends U{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},oa=class extends U{constructor({length:t,position:e}){super(`Position \`${e}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},i0=class extends U{constructor({count:t,limit:e}){super(`Recursive read limit of \`${e}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const o0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new i0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new oa({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new as({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new as({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function nr(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(o0);return n.bytes=t,n.dataView=new DataView(t.buffer??t,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function c0(t,e={}){typeof e.size<"u"&&qe(t,{size:e.size});const n=H(t,e);return ot(n,e)}function u0(t,e={}){let n=t;if(typeof e.size<"u"&&(qe(n,{size:e.size}),n=kt(n)),n.length>1||n[0]>1)throw new to(n);return!!n[0]}function Bt(t,e={}){typeof e.size<"u"&&qe(t,{size:e.size});const n=H(t,e);return rt(n,e)}function l0(t,e={}){let n=t;return typeof e.size<"u"&&(qe(n,{size:e.size}),n=kt(n,{dir:"right"})),new TextDecoder().decode(n)}function ve(t,e){const n=typeof e=="string"?It(e):e,r=nr(n);if($t(n)===0&&t.length>0)throw new me;if($t(e)&&$t(e)<32)throw new Ls({data:typeof e=="string"?e:H(e),params:t,size:$t(e)});let s=0;const a=[];for(let i=0;i<t.length;++i){const o=t[i];r.setPosition(s);const[c,u]=Wt(r,o,{staticPosition:0});s+=u,a.push(c)}return a}function Wt(t,e,{staticPosition:n}){const r=Hs(e.type);if(r){const[s,a]=r;return d0(t,{...e,type:a},{length:s,staticPosition:n})}if(e.type==="tuple")return m0(t,e,{staticPosition:n});if(e.type==="address")return f0(t);if(e.type==="bool")return b0(t);if(e.type.startsWith("bytes"))return h0(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return p0(t,e);if(e.type==="string")return y0(t,{staticPosition:n});throw new Vi(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const is=32,zn=32;function f0(t){const e=t.readBytes(32);return[Ds(H(Yi(e,-20))),32]}function d0(t,e,{length:n,staticPosition:r}){if(!n){const i=Bt(t.readBytes(zn)),o=r+i,c=o+is;t.setPosition(o);const u=Bt(t.readBytes(is)),l=de(e);let f=0;const d=[];for(let b=0;b<u;++b){t.setPosition(c+(l?b*32:f));const[m,h]=Wt(t,e,{staticPosition:c});f+=h,d.push(m)}return t.setPosition(r+32),[d,32]}if(de(e)){const i=Bt(t.readBytes(zn)),o=r+i,c=[];for(let u=0;u<n;++u){t.setPosition(o+u*32);const[l]=Wt(t,e,{staticPosition:o});c.push(l)}return t.setPosition(r+32),[c,32]}let s=0;const a=[];for(let i=0;i<n;++i){const[o,c]=Wt(t,e,{staticPosition:r+s});s+=c,a.push(o)}return[a,s]}function b0(t){return[u0(t.readBytes(32),{size:32}),32]}function h0(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const a=Bt(t.readBytes(32));t.setPosition(n+a);const i=Bt(t.readBytes(32));if(i===0)return t.setPosition(n+32),["0x",32];const o=t.readBytes(i);return t.setPosition(n+32),[H(o),32]}return[H(t.readBytes(Number.parseInt(s,10),32)),32]}function p0(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),s=t.readBytes(32);return[r>48?c0(s,{signed:n}):Bt(s,{signed:n}),32]}function m0(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:i})=>!i),s=r?[]:{};let a=0;if(de(e)){const i=Bt(t.readBytes(zn)),o=n+i;for(let c=0;c<e.components.length;++c){const u=e.components[c];t.setPosition(o+a);const[l,f]=Wt(t,u,{staticPosition:o});a+=f,s[r?c:u?.name]=l}return t.setPosition(n+32),[s,32]}for(let i=0;i<e.components.length;++i){const o=e.components[i],[c,u]=Wt(t,o,{staticPosition:n});s[r?i:o?.name]=c,a+=u}return[s,a]}function y0(t,{staticPosition:e}){const n=Bt(t.readBytes(32)),r=e+n;t.setPosition(r);const s=Bt(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const a=t.readBytes(s,32),i=l0(kt(a));return t.setPosition(e+32),[i,32]}function de(t){var e;const{type:n}=t;if(n==="string"||n==="bytes"||n.endsWith("[]"))return!0;if(n==="tuple")return(e=t.components)==null?void 0:e.some(de);const r=Hs(t.type);return!!(r&&de({...t,type:r[1]}))}function g0(t){const{abi:e,data:n}=t,r=fe(n,0,4);if(r==="0x")throw new me;const s=[...e||[],ia,a0].find(a=>a.type==="error"&&r===tr(qt(a)));if(!s)throw new Vs(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?ve(s.inputs,fe(n,4)):void 0,errorName:s.name}}function ca({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof e[a]=="object"?yt(e[a]):e[a]}`).join(", ")})`}function rr(t,e="wei"){return Hi(t,_i[e])}class w0 extends U{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class v0 extends U{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function os(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function x0(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=os(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=os(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function xe(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class P0 extends U{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class B0 extends U{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",xe(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class E0 extends U{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class k0 extends U{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:i,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:f,value:d}){var b;const m=xe({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:f,value:typeof d<"u"&&`${rr(d)} ${((b=s?.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:a,gas:i,gasPrice:typeof o<"u"&&`${pt(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${pt(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${pt(u)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",m].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class ua extends U{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:a}){let i="Transaction";r&&a!==void 0&&(i=`Transaction at block time "${r}" at index "${a}"`),e&&a!==void 0&&(i=`Transaction at block hash "${e}" at index "${a}"`),n&&a!==void 0&&(i=`Transaction at block number "${n}" at index "${a}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class la extends U{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class I0 extends U{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class N0 extends U{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class fa extends U{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:i,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:f,value:d,stateOverride:b}){var m;const h=n?Q(n):void 0;let v=xe({from:h?.address,to:f,value:typeof d<"u"&&`${rr(d)} ${((m=s?.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:a,gas:i,gasPrice:typeof o<"u"&&`${pt(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${pt(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${pt(u)} gwei`,nonce:l});b&&(v+=`
${x0(b)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",v].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class da extends U{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:i,sender:o}){const c=Qt({abi:n,args:r,name:i}),u=c?ca({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,l=c?qt(c,{includeName:!0}):void 0,f=xe({address:s&&Zi(s),function:l,args:u&&u!=="()"&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=i,this.sender=o}}class Rn extends U{constructor({abi:e,data:n,functionName:r,message:s}){let a,i,o,c;if(n&&n!=="0x")try{i=g0({abi:e,data:n});const{abiItem:l,errorName:f,args:d}=i;if(f==="Error")c=d[0];else if(f==="Panic"){const[b]=d;c=s0[b]}else{const b=l?qt(l,{includeName:!0}):void 0,m=l&&d?ca({abiItem:l,args:d,includeFunctionName:!1,includeName:!1}):void 0;o=[b?`Error: ${b}`:"",m&&m!=="()"?`       ${[...Array(f?.length??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(l){a=l}else s&&(c=s);let u;a instanceof Vs&&(u=a.signature,o=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:o,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class A0 extends U{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class F0 extends U{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class He extends U{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}const T0=3;function Xt(t,{abi:e,address:n,args:r,docsPath:s,functionName:a,sender:i}){const o=t instanceof He?t:t instanceof U?t.walk(m=>"data"in m)||t.walk():{},{code:c,data:u,details:l,message:f,shortMessage:d}=o,b=t instanceof me?new A0({functionName:a}):[T0,Li.code].includes(c)&&(u||l||f||d)||c===Qn.code&&l==="execution reverted"&&u?new Rn({abi:e,data:typeof u=="object"?u.data:u,functionName:a,message:o instanceof Mi?l:d??f}):t;return new da(b,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:a,sender:i})}function $0(t){const e=Ut(`0x${t.substring(4)}`).substring(26);return Ds(`0x${e}`)}async function O0({hash:t,signature:e}){const n=le(t)?t:Gt(t),{secp256k1:r}=await Promise.resolve().then(()=>Tf);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:o,s:c,v:u,yParity:l}=e,f=Number(l??u),d=cs(f);return new r.Signature(ot(o),ot(c)).addRecoveryBit(d)}const s=le(e)?e:Gt(e);if($t(s)!==65)throw new Error("invalid signature length");const a=rt(`0x${s.slice(130)}`),i=cs(a);return r.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(i)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function cs(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function ba({hash:t,signature:e}){return $0(await O0({hash:t,signature:e}))}function ee(t,e="hex"){const n=ha(t),r=nr(new Uint8Array(n.length));return n.encode(r),e==="hex"?H(r.bytes):r.bytes}function ha(t){return Array.isArray(t)?S0(t.map(e=>ha(e))):z0(t)}function S0(t){const e=t.reduce((r,s)=>r+s.length,0),n=pa(e);return{length:e<=55?1+e:1+n+e,encode(r){e<=55?r.pushByte(192+e):(r.pushByte(247+n),n===1?r.pushUint8(e):n===2?r.pushUint16(e):n===3?r.pushUint24(e):r.pushUint32(e));for(const{encode:s}of t)s(r)}}}function z0(t){const e=typeof t=="string"?It(t):t,n=pa(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(r){e.length===1&&e[0]<128?r.pushBytes(e):e.length<=55?(r.pushByte(128+e.length),r.pushBytes(e)):(r.pushByte(183+n),n===1?r.pushUint8(e.length):n===2?r.pushUint16(e.length):n===3?r.pushUint24(e.length):r.pushUint32(e.length),r.pushBytes(e))}}}function pa(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new U("Length is too large.")}function R0(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,a=Ut(bt(["0x05",ee([e?F(e):"0x",s,n?F(n):"0x"])]));return r==="bytes"?It(a):a}async function ma(t){const{authorization:e,signature:n}=t;return ba({hash:R0(e),signature:n??e})}class C0 extends U{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:i,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:f,value:d}){var b;const m=xe({from:n?.address,to:f,value:typeof d<"u"&&`${rr(d)} ${((b=s?.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:a,gas:i,gasPrice:typeof o<"u"&&`${pt(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${pt(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${pt(u)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",m].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function _e(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof U?t.walk(s=>s?.code===Te.code):t;return r instanceof U?new Te({cause:t,message:r.details}):Te.nodeMessage.test(n)?new Te({cause:t,message:t.details}):Jt.nodeMessage.test(n)?new Jt({cause:t,maxFeePerGas:e?.maxFeePerGas}):Dr.nodeMessage.test(n)?new Dr({cause:t,maxFeePerGas:e?.maxFeePerGas}):Vr.nodeMessage.test(n)?new Vr({cause:t,nonce:e?.nonce}):Hr.nodeMessage.test(n)?new Hr({cause:t,nonce:e?.nonce}):_r.nodeMessage.test(n)?new _r({cause:t,nonce:e?.nonce}):Zr.nodeMessage.test(n)?new Zr({cause:t}):Wr.nodeMessage.test(n)?new Wr({cause:t,gas:e?.gas}):Kr.nodeMessage.test(n)?new Kr({cause:t,gas:e?.gas}):Yr.nodeMessage.test(n)?new Yr({cause:t}):Ce.nodeMessage.test(n)?new Ce({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new ye({cause:t})}function G0(t,{docsPath:e,...n}){const r=(()=>{const s=_e(t,n);return s instanceof ye?t:s})();return new C0(r,{docsPath:e,...n})}function Ze(t,{format:e}){if(!e)return{};const n={};function r(a){const i=Object.keys(a);for(const o of i)o in t&&(n[o]=t[o]),a[o]&&typeof a[o]=="object"&&!Array.isArray(a[o])&&r(a[o])}const s=e(t||{});return r(s),n}function sr(t,e){return({exclude:n,format:r})=>({exclude:n,format:(s,a)=>{const i=e(s,a);if(n)for(const o of n)delete i[o];return{...i,...r(s,a)}},type:t})}const U0={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Pe(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=j0(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>H(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=F(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=F(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=F(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=F(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=F(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=F(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=U0[t.type]),typeof t.value<"u"&&(n.value=F(t.value)),n}function j0(t){return t.map(e=>({address:e.address,r:e.r?F(BigInt(e.r)):e.r,s:e.s?F(BigInt(e.s)):e.s,chainId:F(e.chainId),nonce:F(e.nonce),...typeof e.yParity<"u"?{yParity:F(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:F(e.v)}:{}}))}function us(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new Xr({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Xr({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function L0(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:a}=t,i={};if(a!==void 0&&(i.code=a),e!==void 0&&(i.balance=F(e)),n!==void 0&&(i.nonce=F(n)),r!==void 0&&(i.state=us(r)),s!==void 0){if(i.state)throw new v0;i.stateDiff=us(s)}return i}function ar(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!st(n,{strict:!1}))throw new ct({address:n});if(e[n])throw new w0({address:n});e[n]=L0(r)}return e}const We=2n**256n-1n;function ne(t){const{account:e,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=t,a=e?Q(e):void 0;if(a&&!st(a.address))throw new ct({address:a.address});if(s&&!st(s))throw new ct({address:s});if(n&&n>We)throw new Jt({maxFeePerGas:n});if(r&&n&&r>n)throw new Ce({maxFeePerGas:n,maxPriorityFeePerGas:r})}class ya extends U{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class ir extends U{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class M0 extends U{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${pt(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class ga extends U{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const wa={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Ke(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?rt(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?rt(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?wa[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=q0(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const Kf=sr("transaction",Ke);function q0(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function or(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:Ke(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const Yf=sr("block",or);async function it(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:s}={}){var a,i,o;const c=s??!1,u=n!==void 0?F(n):void 0;let l=null;if(e?l=await t.request({method:"eth_getBlockByHash",params:[e,c]},{dedupe:!0}):l=await t.request({method:"eth_getBlockByNumber",params:[u||r,c]},{dedupe:!!u}),!l)throw new ga({blockHash:e,blockNumber:n});return(((o=(i=(a=t.chain)==null?void 0:a.formatters)==null?void 0:i.block)==null?void 0:o.format)||or)(l,"getBlock")}async function cr(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function D0(t,e){return va(t,e)}async function va(t,e){var n,r;const{block:s,chain:a=t.chain,request:i}=e||{};try{const o=((n=a?.fees)==null?void 0:n.maxPriorityFeePerGas)??((r=a?.fees)==null?void 0:r.defaultPriorityFee);if(typeof o=="function"){const u=s||await G(t,it,"getBlock")({}),l=await o({block:u,client:t,request:i});if(l===null)throw new Error;return l}if(typeof o<"u")return o;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return ot(c)}catch{const[o,c]=await Promise.all([s?Promise.resolve(s):G(t,it,"getBlock")({}),G(t,cr,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new ir;const u=c-o.baseFeePerGas;return u<0n?0n:u}}async function V0(t,e){return Cn(t,e)}async function Cn(t,e){var n,r;const{block:s,chain:a=t.chain,request:i,type:o="eip1559"}=e||{},c=await(async()=>{var d,b;return typeof((d=a?.fees)==null?void 0:d.baseFeeMultiplier)=="function"?a.fees.baseFeeMultiplier({block:s,client:t,request:i}):((b=a?.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(c<1)throw new ya;const u=10**(((n=c.toString().split(".")[1])==null?void 0:n.length)??0),l=d=>d*BigInt(Math.ceil(c*u))/BigInt(u),f=s||await G(t,it,"getBlock")({});if(typeof((r=a?.fees)==null?void 0:r.estimateFeesPerGas)=="function"){const d=await a.fees.estimateFeesPerGas({block:s,client:t,multiply:l,request:i,type:o});if(d!==null)return d}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new ir;const d=typeof i?.maxPriorityFeePerGas=="bigint"?i.maxPriorityFeePerGas:await va(t,{block:f,chain:a,request:i}),b=l(f.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??b+d,maxPriorityFeePerGas:d}}return{gasPrice:i?.gasPrice??l(await G(t,cr,"getGasPrice")({}))}}async function xa(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?F(r):n]},{dedupe:!!r});return rt(s)}function ur(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(a=>It(a)):t.blobs,s=[];for(const a of r)s.push(Uint8Array.from(e.blobToKzgCommitment(a)));return n==="bytes"?s:s.map(a=>H(a))}function lr(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>It(i)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(i=>It(i)):t.commitments,a=[];for(let i=0;i<r.length;i++){const o=r[i],c=s[i];a.push(Uint8Array.from(e.computeBlobKzgProof(o,c)))}return n==="bytes"?a:a.map(i=>H(i))}const H0=_s;function _0(t,e){return H0(le(t,{strict:!1})?Me(t):t)}function Z0(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=_0(e);return s.set([n],0),r==="bytes"?s:H(s)}function Pa(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),s=[];for(const a of e)s.push(Z0({commitment:a,to:r,version:n}));return s}const ls=6,Ba=32,fr=4096,Ea=Ba*fr,fs=Ea*ls-1-1*fr*ls,ka=1;class W0 extends U{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Ia extends U{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class K0 extends U{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Y0 extends U{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${ka}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function J0(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?It(t.data):t.data,r=$t(n);if(!r)throw new Ia;if(r>fs)throw new W0({maxSize:fs,size:r});const s=[];let a=!0,i=0;for(;a;){const o=nr(new Uint8Array(Ea));let c=0;for(;c<fr;){const u=n.slice(i,i+(Ba-1));if(o.pushByte(0),o.pushBytes(u),u.length<31){o.pushByte(128),a=!1;break}c++,i+=31}s.push(o)}return e==="bytes"?s.map(o=>o.bytes):s.map(o=>H(o.bytes))}function Na(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??J0({data:e,to:r}),a=t.commitments??ur({blobs:s,kzg:n,to:r}),i=t.proofs??lr({blobs:s,commitments:a,kzg:n,to:r}),o=[];for(let c=0;c<s.length;c++)o.push({blob:s[c],commitment:a[c],proof:i[c]});return o}function Aa(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new B0({transaction:t})}function X0(t,{docsPath:e,...n}){const r=(()=>{const s=_e(t,n);return s instanceof ye?t:s})();return new k0(r,{docsPath:e,...n})}async function dr(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return rt(e)}async function Fa(t,e){var n,r,s,a,i;const{account:o=t.account,accessList:c,authorizationList:u,chain:l=t.chain,blobVersionedHashes:f,blobs:d,data:b,gas:m,gasPrice:h,maxFeePerBlobGas:v,maxFeePerGas:g,maxPriorityFeePerGas:k,nonce:x,nonceManager:p,to:y,type:w,value:B,...A}=e,z=await(async()=>{if(!o||!p||typeof x<"u")return x;const S=Q(o),P=l?l.id:await G(t,dr,"getChainId")({});return await p.consume({address:S.address,chainId:P,client:t})})();ne(e);const $=(r=(n=l?.formatters)==null?void 0:n.transactionRequest)==null?void 0:r.format,T=($||Pe)({...Ze(A,{format:$}),account:o?Q(o):void 0,accessList:c,authorizationList:u,blobs:d,blobVersionedHashes:f,data:b,gas:m,gasPrice:h,maxFeePerBlobGas:v,maxFeePerGas:g,maxPriorityFeePerGas:k,nonce:z,to:y,type:w,value:B},"fillTransaction");try{const S=await t.request({method:"eth_fillTransaction",params:[T]}),P=(((a=(s=l?.formatters)==null?void 0:s.transaction)==null?void 0:a.format)||Ke)(S.tx);delete P.blockHash,delete P.blockNumber,delete P.r,delete P.s,delete P.transactionIndex,delete P.v,delete P.yParity,P.data=P.input,P.gas&&(P.gas=e.gas??P.gas),P.gasPrice&&(P.gasPrice=e.gasPrice??P.gasPrice),P.maxFeePerBlobGas&&(P.maxFeePerBlobGas=e.maxFeePerBlobGas??P.maxFeePerBlobGas),P.maxFeePerGas&&(P.maxFeePerGas=e.maxFeePerGas??P.maxFeePerGas),P.maxPriorityFeePerGas&&(P.maxPriorityFeePerGas=e.maxPriorityFeePerGas??P.maxPriorityFeePerGas),P.nonce&&(P.nonce=e.nonce??P.nonce);const L=await(async()=>{var O,E;if(typeof((O=l?.fees)==null?void 0:O.baseFeeMultiplier)=="function"){const R=await G(t,it,"getBlock")({});return l.fees.baseFeeMultiplier({block:R,client:t,request:e})}return((E=l?.fees)==null?void 0:E.baseFeeMultiplier)??1.2})();if(L<1)throw new ya;const N=10**(((i=L.toString().split(".")[1])==null?void 0:i.length)??0),I=O=>O*BigInt(Math.ceil(L*N))/BigInt(N);return P.maxFeePerGas&&!e.maxFeePerGas&&(P.maxFeePerGas=I(P.maxFeePerGas)),P.gasPrice&&!e.gasPrice&&(P.gasPrice=I(P.gasPrice)),{raw:S.raw,transaction:{from:T.from,...P}}}catch(S){throw X0(S,{...e,chain:t.chain})}}const Q0=["blobVersionedHashes","chainId","fees","gas","nonce","type"],ds=new Map,dn=new Us(128);async function Ta(t,e){var n,r,s;let a=e;a.account??(a.account=t.account),a.parameters??(a.parameters=Q0);const{account:i,chain:o=t.chain,nonceManager:c,parameters:u}=a,l=(()=>{if(typeof o?.prepareTransactionRequest=="function")return{fn:o.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(o?.prepareTransactionRequest))return{fn:o.prepareTransactionRequest[0],runAt:o.prepareTransactionRequest[1].runAt}})();let f;async function d(){return f||(typeof a.chainId<"u"?a.chainId:o?o.id:(f=await G(t,dr,"getChainId")({}),f))}const b=i&&Q(i);let m=a.nonce;if(u.includes("nonce")&&typeof m>"u"&&b&&c){const w=await d();m=await c.consume({address:b.address,chainId:w,client:t})}l!=null&&l.fn&&(n=l.runAt)!=null&&n.includes("beforeFillTransaction")&&(a=await l.fn({...a,chain:o},{phase:"beforeFillTransaction"}),m??(m=a.nonce));const h=!((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&a.kzg&&a.blobs||dn.get(t.uid)===!1||!["fees","gas"].some(w=>u.includes(w)))&&(u.includes("chainId")&&typeof a.chainId!="number"||u.includes("nonce")&&typeof m!="number"||u.includes("fees")&&typeof a.gasPrice!="bigint"&&(typeof a.maxFeePerGas!="bigint"||typeof a.maxPriorityFeePerGas!="bigint")||u.includes("gas")&&typeof a.gas!="bigint")?await G(t,Fa,"fillTransaction")({...a,nonce:m}).then(w=>{const{chainId:B,from:A,gas:z,gasPrice:$,nonce:T,maxFeePerBlobGas:S,maxFeePerGas:P,maxPriorityFeePerGas:L,type:N,...I}=w.transaction;return dn.set(t.uid,!0),{...a,...A?{from:A}:{},...N?{type:N}:{},...typeof B<"u"?{chainId:B}:{},...typeof z<"u"?{gas:z}:{},...typeof $<"u"?{gasPrice:$}:{},...typeof T<"u"?{nonce:T}:{},...typeof S<"u"?{maxFeePerBlobGas:S}:{},...typeof P<"u"?{maxFeePerGas:P}:{},...typeof L<"u"?{maxPriorityFeePerGas:L}:{},..."nonceKey"in I&&typeof I.nonceKey<"u"?{nonceKey:I.nonceKey}:{}}}).catch(w=>{var B;const A=w;return A.name!=="TransactionExecutionError"||(B=A.walk)!=null&&B.call(A,z=>{const $=z;return $.name==="MethodNotFoundRpcError"||$.name==="MethodNotSupportedRpcError"})&&dn.set(t.uid,!1),a}):a;m??(m=h.nonce),a={...h,...b?{from:b?.address}:{},...m?{nonce:m}:{}};const{blobs:v,gas:g,kzg:k,type:x}=a;l!=null&&l.fn&&(r=l.runAt)!=null&&r.includes("beforeFillParameters")&&(a=await l.fn({...a,chain:o},{phase:"beforeFillParameters"}));let p;async function y(){return p||(p=await G(t,it,"getBlock")({blockTag:"latest"}),p)}if(u.includes("nonce")&&typeof m>"u"&&b&&!c&&(a.nonce=await G(t,xa,"getTransactionCount")({address:b.address,blockTag:"pending"})),(u.includes("blobVersionedHashes")||u.includes("sidecars"))&&v&&k){const w=ur({blobs:v,kzg:k});if(u.includes("blobVersionedHashes")){const B=Pa({commitments:w,to:"hex"});a.blobVersionedHashes=B}if(u.includes("sidecars")){const B=lr({blobs:v,commitments:w,kzg:k}),A=Na({blobs:v,commitments:w,proofs:B,to:"hex"});a.sidecars=A}}if(u.includes("chainId")&&(a.chainId=await d()),(u.includes("fees")||u.includes("type"))&&typeof x>"u")try{a.type=Aa(a)}catch{let w=ds.get(t.uid);if(typeof w>"u"){const B=await y();w=typeof B?.baseFeePerGas=="bigint",ds.set(t.uid,w)}a.type=w?"eip1559":"legacy"}if(u.includes("fees"))if(a.type!=="legacy"&&a.type!=="eip2930"){if(typeof a.maxFeePerGas>"u"||typeof a.maxPriorityFeePerGas>"u"){const w=await y(),{maxFeePerGas:B,maxPriorityFeePerGas:A}=await Cn(t,{block:w,chain:o,request:a});if(typeof a.maxPriorityFeePerGas>"u"&&a.maxFeePerGas&&a.maxFeePerGas<A)throw new M0({maxPriorityFeePerGas:A});a.maxPriorityFeePerGas=A,a.maxFeePerGas=B}}else{if(typeof a.maxFeePerGas<"u"||typeof a.maxPriorityFeePerGas<"u")throw new ir;if(typeof a.gasPrice>"u"){const w=await y(),{gasPrice:B}=await Cn(t,{block:w,chain:o,request:a,type:"legacy"});a.gasPrice=B}}return u.includes("gas")&&typeof g>"u"&&(a.gas=await G(t,br,"estimateGas")({...a,account:b,prepare:b?.type==="local"?[]:["blobVersionedHashes"]})),l!=null&&l.fn&&(s=l.runAt)!=null&&s.includes("afterFillParameters")&&(a=await l.fn({...a,chain:o},{phase:"afterFillParameters"})),ne(a),delete a.parameters,a}async function br(t,e){var n,r,s;const{account:a=t.account,prepare:i=!0}=e,o=a?Q(a):void 0,c=(()=>{if(Array.isArray(i))return i;if(o?.type!=="local")return["blobVersionedHashes"]})();try{const u=await(async()=>{if(e.to)return e.to;if(e.authorizationList&&e.authorizationList.length>0)return await ma({authorization:e.authorizationList[0]}).catch(()=>{throw new U("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:l,authorizationList:f,blobs:d,blobVersionedHashes:b,blockNumber:m,blockTag:h,data:v,gas:g,gasPrice:k,maxFeePerBlobGas:x,maxFeePerGas:p,maxPriorityFeePerGas:y,nonce:w,value:B,stateOverride:A,...z}=i?await Ta(t,{...e,parameters:c,to:u}):e;if(g&&e.gas!==g)return g;const $=(typeof m=="bigint"?F(m):void 0)||h,T=ar(A);ne(e);const S=(s=(r=(n=t.chain)==null?void 0:n.formatters)==null?void 0:r.transactionRequest)==null?void 0:s.format,P=(S||Pe)({...Ze(z,{format:S}),account:o,accessList:l,authorizationList:f,blobs:d,blobVersionedHashes:b,data:v,gasPrice:k,maxFeePerBlobGas:x,maxFeePerGas:p,maxPriorityFeePerGas:y,nonce:w,to:u,value:B},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:T?[P,$??t.experimental_blockTag??"latest",T]:$?[P,$]:[P]}))}catch(u){throw G0(u,{...e,account:o,chain:t.chain})}}async function tc(t,e){const{abi:n,address:r,args:s,functionName:a,dataSuffix:i,...o}=e,c=dt({abi:n,args:s,functionName:a});try{return await G(t,br,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...o})}catch(u){const l=o.account?Q(o.account):void 0;throw Xt(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:l?.address})}}function Ye(t,e){if(!st(t,{strict:!1}))throw new ct({address:t});if(!st(e,{strict:!1}))throw new ct({address:e});return t.toLowerCase()===e.toLowerCase()}const bs="/docs/contract/decodeEventLog";function Ge(t){const{abi:e,data:n,strict:r,topics:s}=t,a=r??!0,[i,...o]=s;if(!i)throw new Gi({docsPath:bs});const c=e.find(g=>g.type==="event"&&i===Xn(qt(g)));if(!(c&&"name"in c)||c.type!=="event")throw new Ui(i,{docsPath:bs});const{name:u,inputs:l}=c,f=l?.some(g=>!("name"in g&&g.name)),d=f?[]:{},b=l.map((g,k)=>[g,k]).filter(([g])=>"indexed"in g&&g.indexed),m=[];for(let g=0;g<b.length;g++){const[k,x]=b[g],p=o[g];if(!p){if(a)throw new Jn({abiItem:c,param:k});m.push([k,x]);continue}d[f?x:k.name||x]=ec({param:k,value:p})}const h=l.filter(g=>!("indexed"in g&&g.indexed)),v=a?h:[...m.map(([g])=>g),...h];if(v.length>0){if(n&&n!=="0x")try{const g=ve(v,n);if(g){let k=0;if(!a)for(const[x,p]of m)d[f?p:x.name||p]=g[k++];if(f)for(let x=0;x<l.length;x++)d[x]===void 0&&k<g.length&&(d[x]=g[k++]);else for(let x=0;x<h.length;x++)d[h[x].name]=g[k++]}}catch(g){if(a)throw g instanceof Ls||g instanceof oa?new Se({abiItem:c,data:n,params:v,size:$t(n)}):g}else if(a)throw new Se({abiItem:c,data:"0x",params:v,size:0})}return{eventName:u,args:Object.values(d).length>0?d:void 0}}function ec({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(ve([t],e)||[])[0]}function hr(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,a=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(i=>{var o;const c=e.filter(f=>f.type==="event"&&i.topics[0]===Xn(f));if(c.length===0)return null;let u,l;for(const f of c)try{u=Ge({...i,abi:[f],strict:!0}),l=f;break}catch{}if(!u&&!s){l=c[0];try{u=Ge({...i,abi:[l],strict:!1})}catch{const f=(o=l.inputs)==null?void 0:o.some(d=>!("name"in d&&d.name));return{...i,args:f?[]:{},eventName:l.name}}}return!u||!l||a&&!a.includes(u.eventName)||!nc({args:u.args,inputs:l.inputs,matchArgs:n})?null:{...u,...i}}).filter(Boolean)}function nc(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(a,i,o){try{return a.type==="address"?Ye(i,o):a.type==="string"||a.type==="bytes"?Ut(Me(i))===o:i===o}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((a,i)=>{if(a==null)return!0;const o=n[i];return o?(Array.isArray(a)?a:[a]).some(c=>s(o,c,e[i])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([a,i])=>{if(i==null)return!0;const o=n.find(c=>c.name===a);return o?(Array.isArray(i)?i:[i]).some(c=>s(o,c,e[a])):!1}):!1}function At(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,blockTimestamp:t.blockTimestamp?BigInt(t.blockTimestamp):t.blockTimestamp===null?null:void 0,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function pr(t,{address:e,blockHash:n,fromBlock:r,toBlock:s,event:a,events:i,args:o,strict:c}={}){const u=c??!1,l=i??(a?[a]:void 0);let f=[];l&&(f=[l.flatMap(m=>we({abi:[m],eventName:m.name,args:i?void 0:o}))],a&&(f=f[0]));let d;n?d=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,blockHash:n}]}):d=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,fromBlock:typeof r=="bigint"?F(r):r,toBlock:typeof s=="bigint"?F(s):s}]});const b=d.map(m=>At(m));return l?hr({abi:l,args:o,logs:b,strict:u}):b}async function $a(t,e){const{abi:n,address:r,args:s,blockHash:a,eventName:i,fromBlock:o,toBlock:c,strict:u}=e,l=i?Qt({abi:n,name:i}):void 0,f=l?void 0:n.filter(d=>d.type==="event");return G(t,pr,"getLogs")({address:r,args:s,blockHash:a,event:l,events:f,fromBlock:o,toBlock:c,strict:u})}const bn="/docs/contract/decodeFunctionResult";function Dt(t){const{abi:e,args:n,functionName:r,data:s}=t;let a=e[0];if(r){const o=Qt({abi:e,args:n,name:r});if(!o)throw new Re(r,{docsPath:bn});a=o}if(a.type!=="function")throw new Re(void 0,{docsPath:bn});if(!a.outputs)throw new qs(a.name,{docsPath:bn});const i=ve(a.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const rc="0.1.1";function sc(){return rc}class j extends Error{static setStaticOptions(e){j.prototype.docsOrigin=e.docsOrigin,j.prototype.showVersion=e.showVersion,j.prototype.version=e.version}constructor(e,n={}){const r=(()=>{var l;if(n.cause instanceof j){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),s=n.cause instanceof j&&n.cause.docsPath||n.docsPath,a=n.docsOrigin??j.prototype.docsOrigin,i=`${a}${s??""}`,o=!!(n.version??j.prototype.showVersion),c=n.version??j.prototype.version,u=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s||o?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0,o?`Version: ${c}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=i,this.docsOrigin=a,this.docsPath=s,this.shortMessage=e,this.showVersion=o,this.version=c}walk(e){return Oa(this,e)}}Object.defineProperty(j,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${sc()}`}});j.setStaticOptions(j.defaultStaticOptions);function Oa(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?Oa(t.cause,e):e?null:t}function Be(t,e){if(_t(t)>e)throw new xc({givenSize:_t(t),maxSize:e})}const wt={zero:48,nine:57,A:65,F:70,a:97,f:102};function hs(t){if(t>=wt.zero&&t<=wt.nine)return t-wt.zero;if(t>=wt.A&&t<=wt.F)return t-(wt.A-10);if(t>=wt.a&&t<=wt.f)return t-(wt.a-10)}function ac(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new Pc({size:t.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let a=0;a<r;a++){const i=n==="right";s[i?a:r-a-1]=t[i?a:t.length-a-1]}return s}function Sa(t,e={}){const{dir:n="left"}=e;let r=t,s=0;for(let a=0;a<r.length-1&&r[n==="left"?a:r.length-a-1].toString()==="0";a++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Je(t,e){if(tt(t)>e)throw new Ac({givenSize:tt(t),maxSize:e})}function ic(t,e){if(typeof e=="number"&&e>0&&e>tt(t)-1)throw new qa({offset:e,position:"start",size:tt(t)})}function oc(t,e,n){if(typeof e=="number"&&typeof n=="number"&&tt(t)!==n-e)throw new qa({offset:n,position:"end",size:tt(t)})}function za(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new Fc({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const cc="#__bigint";function Ra(t,e,n){return JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString()+cc:s,n)}const uc=new TextDecoder,lc=new TextEncoder;function fc(t){return t instanceof Uint8Array?t:typeof t=="string"?Ca(t):dc(t)}function dc(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function Ca(t,e={}){const{size:n}=e;let r=t;n&&(Je(t,n),r=Lt(t,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const a=s.length/2,i=new Uint8Array(a);for(let o=0,c=0;o<a;o++){const u=hs(s.charCodeAt(c++)),l=hs(s.charCodeAt(c++));if(u===void 0||l===void 0)throw new j(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[o]=u<<4|l}return i}function bc(t,e={}){const{size:n}=e,r=lc.encode(t);return typeof n=="number"?(Be(r,n),hc(r,n)):r}function hc(t,e){return ac(t,{dir:"right",size:e})}function _t(t){return t.length}function pc(t,e,n,r={}){const{strict:s}=r;return t.slice(e,n)}function mc(t,e={}){const{size:n}=e;typeof n<"u"&&Be(t,n);const r=lt(t,e);return ja(r,e)}function yc(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(Be(r,n),r=Ga(r)),r.length>1||r[0]>1)throw new vc(r);return!!r[0]}function Et(t,e={}){const{size:n}=e;typeof n<"u"&&Be(t,n);const r=lt(t,e);return La(r,e)}function gc(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(Be(r,n),r=wc(r)),uc.decode(r)}function Ga(t){return Sa(t,{dir:"left"})}function wc(t){return Sa(t,{dir:"right"})}class vc extends j{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let xc=class extends j{constructor({givenSize:t,maxSize:e}){super(`Size cannot exceed \`${e}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Pc=class extends j{constructor({size:t,targetSize:e,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Bc=new TextEncoder,Ec=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function kc(t,e={}){const{strict:n=!1}=e;if(!t)throw new ps(t);if(typeof t!="string")throw new ps(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new ms(t);if(!t.startsWith("0x"))throw new ms(t)}function ut(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function Ic(t){return t instanceof Uint8Array?lt(t):Array.isArray(t)?lt(new Uint8Array(t)):t}function Ua(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Je(n,e.size),jt(n,e.size)):n}function lt(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=Ec[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Je(r,e.size),Lt(r,e.size)):r}function Z(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<i){const c=typeof t=="bigint"?"n":"";throw new Ma({max:a?`${a}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${t}${c}`})}const o=`0x${(n&&s<0?BigInt.asUintN(r*8,BigInt(s)):s).toString(16)}`;return r?jt(o,r):o}function mr(t,e={}){return lt(Bc.encode(t),e)}function jt(t,e){return za(t,{dir:"left",size:e})}function Lt(t,e){return za(t,{dir:"right",size:e})}function mt(t,e,n,r={}){const{strict:s}=r;ic(t,e);const a=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return s&&oc(a,e,n),a}function tt(t){return Math.ceil((t.length-2)/2)}function ja(t,e={}){const{signed:n}=e;e.size&&Je(t,e.size);const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,a=(1n<<BigInt(s)*8n)-1n,i=a>>1n;return r<=i?r:r-a-1n}function La(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:ja(t,e))}function Nc(t,e={}){const{strict:n=!1}=e;try{return kc(t,{strict:n}),!0}catch{return!1}}class Ma extends j{constructor({max:e,min:n,signed:r,size:s,value:a}){super(`Number \`${a}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class ps extends j{constructor(e){super(`Value \`${typeof e=="object"?Ra(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class ms extends j{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Ac extends j{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class qa extends j{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Fc extends j{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Tc(t){return{address:t.address,amount:Z(t.amount),index:Z(t.index),validatorIndex:Z(t.validatorIndex)}}function Da(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Z(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Z(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Z(t.gasLimit)},...typeof t.number=="bigint"&&{number:Z(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Z(t.prevRandao)},...typeof t.time=="bigint"&&{time:Z(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(Tc)}}}const $c="0x82ad56cb",Va="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Oc="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Sc="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",yr="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Gn extends U{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Ha extends U{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Xe extends U{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const hn="/docs/contract/encodeDeployData";function gr(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new Di({docsPath:hn});if(!("inputs"in s))throw new Jr({docsPath:hn});if(!s.inputs||s.inputs.length===0)throw new Jr({docsPath:hn});const a=ge(s.inputs,n);return bt([r,a])}function re({blockNumber:t,chain:e,contract:n}){var r;const s=(r=e?.contracts)==null?void 0:r[n];if(!s)throw new Gn({chain:e,contract:{name:n}});if(t&&s.blockCreated&&s.blockCreated>t)throw new Gn({blockNumber:t,chain:e,contract:{name:n,blockCreated:s.blockCreated}});return s.address}function _a(t,{docsPath:e,...n}){const r=(()=>{const s=_e(t,n);return s instanceof ye?t:s})();return new fa(r,{docsPath:e,...n})}async function Qe(t,e){var n,r,s,a;const{account:i=t.account,authorizationList:o,batch:c=!!((n=t.batch)!=null&&n.multicall),blockNumber:u,blockTag:l=t.experimental_blockTag??"latest",accessList:f,blobs:d,blockOverrides:b,code:m,data:h,factory:v,factoryData:g,gas:k,gasPrice:x,maxFeePerBlobGas:p,maxFeePerGas:y,maxPriorityFeePerGas:w,nonce:B,to:A,value:z,stateOverride:$,...T}=e,S=i?Q(i):void 0;if(m&&(v||g))throw new U("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(m&&A)throw new U("Cannot provide both `code` & `to` as parameters.");const P=m&&h,L=v&&g&&A&&h,N=P||L,I=P?Za({code:m,data:h}):L?Cc({data:h,factory:v,factoryData:g,to:A}):h;try{ne(e);const O=(typeof u=="bigint"?F(u):void 0)||l,E=b?Da(b):void 0,R=ar($),C=(a=(s=(r=t.chain)==null?void 0:r.formatters)==null?void 0:s.transactionRequest)==null?void 0:a.format,M=(C||Pe)({...Ze(T,{format:C}),accessList:f,account:S,authorizationList:o,blobs:d,data:I,gas:k,gasPrice:x,maxFeePerBlobGas:p,maxFeePerGas:y,maxPriorityFeePerGas:w,nonce:B,to:N?void 0:A,value:z},"call");if(c&&zc({request:M})&&!R&&!E)try{return await Rc(t,{...M,blockNumber:u,blockTag:l})}catch(q){if(!(q instanceof Ha)&&!(q instanceof Gn))throw q}const _=(()=>{const q=[M,O];return R&&E?[...q,R,E]:R?[...q,R]:E?[...q,{},E]:q})(),D=await t.request({method:"eth_call",params:_});return D==="0x"?{data:void 0}:{data:D}}catch(O){const E=Gc(O),{offchainLookup:R,offchainLookupSignature:C}=await Ci(async()=>{const{offchainLookup:M,offchainLookupSignature:_}=await import("./index-CgI_Ukj5-rnzCD-Im.js").then(D=>D.c);return{offchainLookup:M,offchainLookupSignature:_}},__vite__mapDeps([0,1,2]));if(t.ccipRead!==!1&&E?.slice(0,10)===C&&A)return{data:await R(t,{data:E,to:A})};throw N&&E?.slice(0,10)==="0x101bb98d"?new F0({factory:v}):_a(O,{...e,account:S,chain:t.chain})}}function zc({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith($c)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Rc(t,e){var n;const{batchSize:r=1024,deployless:s=!1,wait:a=0}=typeof((n=t.batch)==null?void 0:n.multicall)=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:o=t.experimental_blockTag??"latest",data:c,to:u}=e,l=(()=>{if(s)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return re({blockNumber:i,chain:t.chain,contract:"multicall3"});throw new Ha})(),f=(typeof i=="bigint"?F(i):void 0)||o,{schedule:d}=qi({id:`${t.uid}.${f}`,wait:a,shouldSplitBatch(h){return h.reduce((v,{data:g})=>v+(g.length-2),0)>r*2},fn:async h=>{const v=h.map(x=>({allowFailure:!0,callData:x.data,target:x.to})),g=dt({abi:ze,args:[v],functionName:"aggregate3"}),k=await t.request({method:"eth_call",params:[{...l===null?{data:Za({code:yr,data:g})}:{to:l,data:g}},f]});return Dt({abi:ze,args:[v],functionName:"aggregate3",data:k||"0x"})}}),[{returnData:b,success:m}]=await d({data:c,to:u});if(!m)throw new He({data:b});return b==="0x"?{data:void 0}:{data:b}}function Za(t){const{code:e,data:n}=t;return gr({abi:sa(["constructor(bytes, bytes)"]),bytecode:Va,args:[e,n]})}function Cc(t){const{data:e,factory:n,factoryData:r,to:s}=t;return gr({abi:sa(["constructor(address, bytes, address, bytes)"]),bytecode:Oc,args:[s,e,n,r]})}function Gc(t){var e;if(!(t instanceof U))return;const n=t.walk();return typeof n?.data=="object"?(e=n.data)==null?void 0:e.data:n.data}async function ft(t,e){const{abi:n,address:r,args:s,functionName:a,...i}=e,o=dt({abi:n,args:s,functionName:a});try{const{data:c}=await G(t,Qe,"call")({...i,data:o,to:r});return Dt({abi:n,args:s,functionName:a,data:c||"0x"})}catch(c){throw Xt(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}async function Uc(t,e){const{abi:n,address:r,args:s,dataSuffix:a,functionName:i,...o}=e,c=o.account?Q(o.account):t.account,u=dt({abi:n,args:s,functionName:i});try{const{data:l}=await G(t,Qe,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:r,...o,account:c}),f=Dt({abi:n,args:s,functionName:i,data:l||"0x"}),d=n.filter(b=>"name"in b&&b.name===e.functionName);return{result:f,request:{abi:d,address:r,args:s,dataSuffix:a,functionName:i,...o,account:c}}}catch(l){throw Xt(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c?.address})}}const pn=new Map,ys=new Map;let jc=0;function Ft(t,e,n){const r=++jc,s=()=>pn.get(t)||[],a=()=>{const l=s();pn.set(t,l.filter(f=>f.id!==r))},i=()=>{const l=s();if(!l.some(d=>d.id===r))return;const f=ys.get(t);if(l.length===1&&f){const d=f();d instanceof Promise&&d.catch(()=>{})}a()},o=s();if(pn.set(t,[...o,{id:r,fns:e}]),o&&o.length>0)return i;const c={};for(const l in e)c[l]=(...f)=>{var d,b;const m=s();if(m.length!==0)for(const h of m)(b=(d=h.fns)[l])==null||b.call(d,...f)};const u=n(c);return typeof u=="function"&&ys.set(t,u),i}function se(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let i;e&&(i=await t({unpoll:a}));const o=await n?.(i)??r;await ts(o);const c=async()=>{s&&(await t({unpoll:a}),await ts(r),c())};c()})(),a}const Lc=new Map,Mc=new Map;function qc(t){const e=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:i=>a.set(s,i)}),n=e(t,Lc),r=e(t,Mc);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Dc(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=qc(e),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=t(),r.promise.set(a));try{const i=await a;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const Vc=t=>`blockNumber.${t}`;async function Ee(t,{cacheTime:e=t.cacheTime}={}){const n=await Dc(()=>t.request({method:"eth_blockNumber"}),{cacheKey:Vc(t.uid),cacheTime:e});return BigInt(n)}async function tn(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>At(a));return!("abi"in e)||!e.abi?s:hr({abi:e.abi,logs:s,strict:n})}async function en(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function Hc(t,e){const{abi:n,address:r,args:s,batch:a=!0,eventName:i,fromBlock:o,onError:c,onLogs:u,poll:l,pollingInterval:f=t.pollingInterval,strict:d}=e;return(typeof l<"u"?l:typeof o=="bigint"||!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const b=d??!1,m=yt(["watchContractEvent",r,s,a,t.uid,i,f,b,o]);return Ft(m,{onLogs:u,onError:c},h=>{let v;o!==void 0&&(v=o-1n);let g,k=!1;const x=se(async()=>{var p;if(!k){try{g=await G(t,aa,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:b,fromBlock:o})}catch{}k=!0;return}try{let y;if(g)y=await G(t,tn,"getFilterChanges")({filter:g});else{const w=await G(t,Ee,"getBlockNumber")({});v&&v<w?y=await G(t,$a,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:v+1n,toBlock:w,strict:b}):y=[],v=w}if(y.length===0)return;if(a)h.onLogs(y);else for(const w of y)h.onLogs([w])}catch(y){g&&y instanceof Qn&&(k=!1),(p=h.onError)==null||p.call(h,y)}},{emitOnBegin:!0,interval:f});return async()=>{g&&await G(t,en,"uninstallFilter")({filter:g}),x()}})})():(()=>{const b=d??!1,m=yt(["watchContractEvent",r,s,a,t.uid,i,f,b]);let h=!0,v=()=>h=!1;return Ft(m,{onLogs:u,onError:c},g=>((async()=>{try{const k=(()=>{if(t.transport.type==="fallback"){const y=t.transport.transports.find(w=>w.config.type==="webSocket"||w.config.type==="ipc");return y?y.value:t.transport}return t.transport})(),x=i?we({abi:n,eventName:i,args:s}):[],{unsubscribe:p}=await k.subscribe({params:["logs",{address:r,topics:x}],onData(y){var w;if(!h)return;const B=y.result;try{const{eventName:A,args:z}=Ge({abi:n,data:B.data,topics:B.topics,strict:d}),$=At(B,{args:z,eventName:A});g.onLogs([$])}catch(A){let z,$;if(A instanceof Se||A instanceof Jn){if(d)return;z=A.abiItem.name,$=(w=A.abiItem.inputs)==null?void 0:w.some(S=>!("name"in S&&S.name))}const T=At(B,{args:$?[]:{},eventName:z});g.onLogs([T])}},onError(y){var w;(w=g.onError)==null||w.call(g,y)}});v=p,h||v()}catch(k){c?.(k)}})(),()=>v()))})()}async function _c(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}class Zc extends U{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}const Wa={"0x0":"reverted","0x1":"success"};function wr(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>At(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?rt(t.transactionIndex):null,status:t.status?Wa[t.status]:null,type:t.type?wa[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}const Jf=sr("transactionReceipt",wr),Wc="0x5792579257925792579257925792579257925792579257925792579257925792",Kc=F(0,{size:32});async function Yc(t,e){async function n(l){if(l.endsWith(Wc.slice(2))){const f=kt(es(l,-64,-32)),d=es(l,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(d.map(h=>Kc.slice(2)!==h?t.request({method:"eth_getTransactionReceipt",params:[`0x${h}`]},{dedupe:!0}):void 0)),m=b.some(h=>h===null)?100:b.every(h=>h?.status==="0x1")?200:b.every(h=>h?.status==="0x0")?500:600;return{atomic:!1,chainId:rt(f),receipts:b.filter(Boolean),status:m,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[l]})}const{atomic:r=!1,chainId:s,receipts:a,version:i="2.0.0",...o}=await n(e.id),[c,u]=(()=>{const l=o.status;return l>=100&&l<200?["pending",l]:l>=200&&l<300?["success",l]:l>=300&&l<700?["failure",l]:l==="CONFIRMED"?["success",200]:l==="PENDING"?["pending",100]:[void 0,l]})();return{...o,atomic:r,chainId:s?rt(s):void 0,receipts:a?.map(l=>({...l,blockNumber:ot(l.blockNumber),gasUsed:ot(l.gasUsed),status:Wa[l.status]}))??[],statusCode:u,status:c,version:i}}async function Xf(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:s=({statusCode:h})=>h===200||h>=300,retryCount:a=4,retryDelay:i=({count:h})=>~~(1<<h)*200,timeout:o=6e4,throwOnFailure:c=!1}=e,u=yt(["waitForCallsStatus",t.uid,n]),{promise:l,resolve:f,reject:d}=zs();let b;const m=Ft(u,{resolve:f,reject:d},h=>{const v=se(async()=>{const g=k=>{clearTimeout(b),v(),k(),m()};try{const k=await Tn(async()=>{const x=await G(t,Yc,"getCallsStatus")({id:n});if(c&&x.status==="failure")throw new Zc(x);return x},{retryCount:a,delay:i});if(!s(k))return;g(()=>h.resolve(k))}catch(k){g(()=>h.reject(k))}},{interval:r,emitOnBegin:!0});return v});return b=o?setTimeout(()=>{m(),clearTimeout(b),d(new Jc({id:n}))},o):void 0,await l}class Jc extends U{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}function Xc(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:a="Base Client",type:i="base"}=t,o=t.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),l=t.pollingInterval??u,f=t.cacheTime??l,d=t.account?Q(t.account):void 0,{config:b,request:m,value:h}=t.transport({account:d,chain:n,pollingInterval:l}),v={...b,...h},g={account:d,batch:e,cacheTime:f,ccipRead:r,chain:n,key:s,name:a,pollingInterval:l,request:m,transport:v,type:i,uid:Si(),...o?{experimental_blockTag:o}:{}};function k(x){return p=>{const y=p(x);for(const B in g)delete y[B];const w={...x,...y};return Object.assign(w,{extend:k(w)})}}return Object.assign(g,{extend:k(g)})}function vr(t){var e,n,r,s,a,i;if(!(t instanceof U))return!1;const o=t.walk(c=>c instanceof Rn);return o instanceof Rn?((e=o.data)==null?void 0:e.errorName)==="HttpError"||((n=o.data)==null?void 0:n.errorName)==="ResolverError"||((r=o.data)==null?void 0:r.errorName)==="ResolverNotContract"||((s=o.data)==null?void 0:s.errorName)==="ResolverNotFound"||((a=o.data)==null?void 0:a.errorName)==="ReverseAddressMismatch"||((i=o.data)==null?void 0:i.errorName)==="UnsupportedResolverProfile":!1}function Qc(t){const{abi:e,data:n}=t,r=fe(n,0,4),s=e.find(a=>a.type==="function"&&r===tr(qt(a)));if(!s)throw new Wi(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?ve(s.inputs,fe(n,4)):void 0}}const mn="/docs/contract/encodeErrorResult";function gs(t){const{abi:e,errorName:n,args:r}=t;let s=e[0];if(n){const c=Qt({abi:e,args:r,name:n});if(!c)throw new Qr(n,{docsPath:mn});s=c}if(s.type!=="error")throw new Qr(void 0,{docsPath:mn});const a=qt(s),i=tr(a);let o="0x";if(r&&r.length>0){if(!s.inputs)throw new Qi(s.name,{docsPath:mn});o=ge(s.inputs,r)}return bt([i,o])}const yn="/docs/contract/encodeFunctionResult";function tu(t){const{abi:e,functionName:n,result:r}=t;let s=e[0];if(n){const i=Qt({abi:e,name:n});if(!i)throw new Re(n,{docsPath:yn});s=i}if(s.type!=="function")throw new Re(void 0,{docsPath:yn});if(!s.outputs)throw new qs(s.name,{docsPath:yn});const a=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Ki(r)})();return ge(s.outputs,a)}const nn="x-batch-gateway:true";async function eu(t){const{data:e,ccipRequest:n}=t,{args:[r]}=Qc({abi:An,data:e}),s=[],a=[];return await Promise.all(r.map(async(i,o)=>{try{a[o]=i.urls.includes(nn)?await eu({data:i.data,ccipRequest:n}):await n(i),s[o]=!1}catch(c){s[o]=!0,a[o]=nu(c)}})),tu({abi:An,functionName:"query",result:[s,a]})}function nu(t){return t.name==="HttpRequestError"&&t.status?gs({abi:An,errorName:"HttpError",args:[t.status,t.shortMessage]}):gs({abi:[ia],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function Ka(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return le(e)?e:null}function Un(t){let e=new Uint8Array(32).fill(0);if(!t)return H(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Ka(n[r]),a=s?Me(s):Ut(ue(n[r]),"bytes");e=Ut(Gs([e,a]),"bytes")}return H(e)}function ru(t){return`[${t.slice(2)}]`}function su(t){const e=new Uint8Array(32).fill(0);return t?Ka(t)||Ut(ue(t)):H(e)}function xr(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(ue(e).byteLength+2);let r=0;const s=e.split(".");for(let a=0;a<s.length;a++){let i=ue(s[a]);i.byteLength>255&&(i=ue(ru(su(s[a])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function au(t,e){const{blockNumber:n,blockTag:r,coinType:s,name:a,gatewayUrls:i,strict:o}=e,{chain:c}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return re({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),l=c?.ensTlds;if(l&&!l.some(d=>a.endsWith(d)))return null;const f=s!=null?[Un(a),BigInt(s)]:[Un(a)];try{const d=dt({abi:Lr,functionName:"addr",args:f}),b={address:u,abi:js,functionName:"resolveWithGateways",args:[Gt(xr(a)),d,i??[nn]],blockNumber:n,blockTag:r},m=await G(t,ft,"readContract")(b);if(m[0]==="0x")return null;const h=Dt({abi:Lr,args:f,functionName:"addr",data:m[0]});return h==="0x"||kt(h)==="0x00"?null:h}catch(d){if(o)throw d;if(vr(d))return null;throw d}}class iu extends U{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class ce extends U{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class Pr extends U{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class ou extends U{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const cu=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,uu=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,lu=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,fu=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function du(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n?.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function ws(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function Ya({uri:t,gatewayUrls:e}){const n=lu.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=ws(e?.ipfs,"https://ipfs.io"),s=ws(e?.arweave,"https://arweave.net"),a=t.match(cu),{protocol:i,subpath:o,target:c,subtarget:u=""}=a?.groups||{},l=i==="ipns:/"||o==="ipns/",f=i==="ipfs:/"||o==="ipfs/"||uu.test(t);if(t.startsWith("http")&&!l&&!f){let b=t;return e!=null&&e.arweave&&(b=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:b,isOnChain:!1,isEncoded:!1}}if((l||f)&&c)return{uri:`${r}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let d=t.replace(fu,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new Pr({uri:t})}function Ja(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new iu({data:t});return t.image||t.image_url||t.image_data}async function bu({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(r=>r.json());return await Br({gatewayUrls:t,uri:Ja(n)})}catch{throw new Pr({uri:e})}}async function Br({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=Ya({uri:e,gatewayUrls:t});if(r||await du(n))return n;throw new Pr({uri:e})}function hu(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=e.split("/"),[a,i]=n.split(":"),[o,c]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new ce({reason:"Only EIP-155 supported"});if(!i)throw new ce({reason:"Chain ID not found"});if(!c)throw new ce({reason:"Contract address not found"});if(!s)throw new ce({reason:"Token ID not found"});if(!o)throw new ce({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:o.toLowerCase(),contractAddress:c,tokenID:s}}async function pu(t,{nft:e}){if(e.namespace==="erc721")return ft(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return ft(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new ou({namespace:e.namespace})}async function mu(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?yu(t,{gatewayUrls:e,record:n}):Br({uri:n,gatewayUrls:e})}async function yu(t,{gatewayUrls:e,record:n}){const r=hu(n),s=await pu(t,{nft:r}),{uri:a,isOnChain:i,isEncoded:o}=Ya({uri:s,gatewayUrls:e});if(i&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const u=o?atob(a.replace("data:application/json;base64,","")):a,l=JSON.parse(u);return Br({uri:Ja(l),gatewayUrls:e})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),bu({gatewayUrls:e,uri:a.replace(/(?:0x)?{id}/,c)})}async function Xa(t,e){const{blockNumber:n,blockTag:r,key:s,name:a,gatewayUrls:i,strict:o}=e,{chain:c}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return re({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),l=c?.ensTlds;if(l&&!l.some(f=>a.endsWith(f)))return null;try{const f={address:u,abi:js,args:[Gt(xr(a)),dt({abi:jr,functionName:"text",args:[Un(a),s]}),i??[nn]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},d=await G(t,ft,"readContract")(f);if(d[0]==="0x")return null;const b=Dt({abi:jr,functionName:"text",data:d[0]});return b===""?null:b}catch(f){if(o)throw f;if(vr(f))return null;throw f}}async function gu(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:i,universalResolverAddress:o}){const c=await G(t,Xa,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:s,universalResolverAddress:o,gatewayUrls:a,strict:i});if(!c)return null;try{return await mu(t,{record:c,gatewayUrls:r})}catch{return null}}async function wu(t,e){const{address:n,blockNumber:r,blockTag:s,coinType:a=60n,gatewayUrls:i,strict:o}=e,{chain:c}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return re({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const l={address:u,abi:Ri,args:[n,a,i??[nn]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},f=G(t,ft,"readContract"),[d]=await f(l);return d||null}catch(l){if(o)throw l;if(vr(l))return null;throw l}}async function vu(t,e){const{blockNumber:n,blockTag:r,name:s}=e,{chain:a}=t,i=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return re({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),o=a?.ensTlds;if(o&&!o.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${o?.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);const[c]=await G(t,ft,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Gt(xr(s))],blockNumber:n,blockTag:r});return c}async function Qa(t,e){var n,r,s;const{account:a=t.account,blockNumber:i,blockTag:o="latest",blobs:c,data:u,gas:l,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:b,maxPriorityFeePerGas:m,to:h,value:v,...g}=e,k=a?Q(a):void 0;try{ne(e);const x=(typeof i=="bigint"?F(i):void 0)||o,p=(s=(r=(n=t.chain)==null?void 0:n.formatters)==null?void 0:r.transactionRequest)==null?void 0:s.format,y=(p||Pe)({...Ze(g,{format:p}),account:k,blobs:c,data:u,gas:l,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:b,maxPriorityFeePerGas:m,to:h,value:v},"createAccessList"),w=await t.request({method:"eth_createAccessList",params:[y,x]});return{accessList:w.accessList,gasUsed:BigInt(w.gasUsed)}}catch(x){throw _a(x,{...e,account:k,chain:t.chain})}}async function xu(t){const e=Ve(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function ti(t,{address:e,args:n,event:r,events:s,fromBlock:a,strict:i,toBlock:o}={}){const c=s??(r?[r]:void 0),u=Ve(t,{method:"eth_newFilter"});let l=[];c&&(l=[c.flatMap(d=>we({abi:[d],eventName:d.name,args:n}))],r&&(l=l[0]));const f=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof a=="bigint"?F(a):a,toBlock:typeof o=="bigint"?F(o):o,...l.length?{topics:l}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:a,id:f,request:u(f),strict:!!i,toBlock:o,type:"event"}}async function ei(t){const e=Ve(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function Pu(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?F(n):void 0,a=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(a)}async function Bu(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function Eu(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?F(n):void 0;let a;return e?a=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):a=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),rt(a)}async function jn(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?F(n):void 0,a=await t.request({method:"eth_getCode",params:[e,s||r]},{dedupe:!!s});if(a!=="0x")return a}class ku extends U{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Iu(t,e){const{address:n,factory:r,factoryData:s}=e;try{const[a,i,o,c,u,l,f]=await G(t,ft,"readContract")({abi:Nu,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:o,chainId:Number(c),verifyingContract:u,salt:l},extensions:f,fields:a}}catch(a){const i=a;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new ku({address:n}):i}}const Nu=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Au(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function Fu(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=typeof n=="bigint"?F(n):void 0,i=await t.request({method:"eth_feeHistory",params:[F(e),a||r,s]},{dedupe:!!a});return Au(i)}async function Tu(t,{filter:e}){const n=e.strict??!1,r=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>At(s));return e.abi?hr({abi:e.abi,logs:r,strict:n}):r}function Qf(t,e){if(t.length!==e.length)throw new ao({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const s=t[r],a=e[r];n.push(ni(s,a))}return bt(n)}function ni(t,e,n=!1){if(t==="address"){const i=e;if(!st(i))throw new ct({address:i});return ln(i.toLowerCase(),{size:n?32:null})}if(t==="string")return io(e);if(t==="bytes")return e;if(t==="bool")return ln(oo(e),{size:n?32:1});const r=t.match(co);if(r){const[i,o,c="256"]=r,u=Number.parseInt(c,10)/8;return F(e,{size:n?32:u,signed:o==="int"})}const s=t.match(uo);if(s){const[i,o]=s;if(Number.parseInt(o,10)!==(e.length-2)/2)throw new lo({expectedSize:Number.parseInt(o,10),givenSize:(e.length-2)/2});return ln(e,{dir:"right",size:n?32:null})}const a=t.match(fo);if(a&&Array.isArray(e)){const[i,o]=a,c=[];for(let u=0;u<e.length;u++)c.push(ni(o,e[u],!0));return c.length===0?"0x":bt(c)}throw new bo(t)}function $u(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:r}=n,s=n.address;if(!st(s))throw new ct({address:s});if(r<0)throw new Xe({chainId:r})}Er(t)}function Ou(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new Ia;for(const n of e){const r=$t(n),s=rt(fe(n,0,1));if(r!==32)throw new K0({hash:n,size:r});if(s!==ka)throw new Y0({hash:n,version:s})}}Er(t)}function Er(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=t;if(e<=0)throw new Xe({chainId:e});if(s&&!st(s))throw new ct({address:s});if(r&&r>We)throw new Jt({maxFeePerGas:r});if(n&&r&&n>r)throw new Ce({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Su(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:a}=t;if(e<=0)throw new Xe({chainId:e});if(a&&!st(a))throw new ct({address:a});if(n||s)throw new U("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>We)throw new Jt({maxFeePerGas:r})}function zu(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:a}=t;if(a&&!st(a))throw new ct({address:a});if(typeof e<"u"&&e<=0)throw new Xe({chainId:e});if(n||s)throw new U("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>We)throw new Jt({maxFeePerGas:r})}function rn(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:s}=t[n];for(let a=0;a<s.length;a++)if(s[a].length-2!==64)throw new E0({storageKey:s[a]});if(!st(r,{strict:!1}))throw new ct({address:r});e.push([r,s])}return e}function td(t,e){const n=Aa(t);return n==="eip1559"?Gu(t,e):n==="eip2930"?Uu(t,e):n==="eip4844"?Cu(t,e):n==="eip7702"?Ru(t,e):ju(t,e)}function Ru(t,e){const{authorizationList:n,chainId:r,gas:s,nonce:a,to:i,value:o,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:f}=t;$u(t);const d=rn(l),b=Lu(n);return bt(["0x04",ee([F(r),a?F(a):"0x",u?F(u):"0x",c?F(c):"0x",s?F(s):"0x",i??"0x",o?F(o):"0x",f??"0x",d,b,...ke(t,e)])])}function Cu(t,e){const{chainId:n,gas:r,nonce:s,to:a,value:i,maxFeePerBlobGas:o,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:f}=t;Ou(t);let d=t.blobVersionedHashes,b=t.sidecars;if(t.blobs&&(typeof d>"u"||typeof b>"u")){const x=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(w=>H(w)),p=t.kzg,y=ur({blobs:x,kzg:p});if(typeof d>"u"&&(d=Pa({commitments:y})),typeof b>"u"){const w=lr({blobs:x,commitments:y,kzg:p});b=Na({blobs:x,commitments:y,proofs:w})}}const m=rn(l),h=[F(n),s?F(s):"0x",u?F(u):"0x",c?F(c):"0x",r?F(r):"0x",a??"0x",i?F(i):"0x",f??"0x",m,o?F(o):"0x",d??[],...ke(t,e)],v=[],g=[],k=[];if(b)for(let x=0;x<b.length;x++){const{blob:p,commitment:y,proof:w}=b[x];v.push(p),g.push(y),k.push(w)}return bt(["0x03",ee(b?[h,v,g,k]:h)])}function Gu(t,e){const{chainId:n,gas:r,nonce:s,to:a,value:i,maxFeePerGas:o,maxPriorityFeePerGas:c,accessList:u,data:l}=t;Er(t);const f=rn(u),d=[F(n),s?F(s):"0x",c?F(c):"0x",o?F(o):"0x",r?F(r):"0x",a??"0x",i?F(i):"0x",l??"0x",f,...ke(t,e)];return bt(["0x02",ee(d)])}function Uu(t,e){const{chainId:n,gas:r,data:s,nonce:a,to:i,value:o,accessList:c,gasPrice:u}=t;Su(t);const l=rn(c),f=[F(n),a?F(a):"0x",u?F(u):"0x",r?F(r):"0x",i??"0x",o?F(o):"0x",s??"0x",l,...ke(t,e)];return bt(["0x01",ee(f)])}function ju(t,e){const{chainId:n=0,gas:r,data:s,nonce:a,to:i,value:o,gasPrice:c}=t;zu(t);let u=[a?F(a):"0x",c?F(c):"0x",r?F(r):"0x",i??"0x",o?F(o):"0x",s??"0x"];if(e){const l=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const b=27n+(e.v===27n?0n:1n);if(e.v!==b)throw new P0({v:e.v});return b})(),f=kt(e.r),d=kt(e.s);u=[...u,F(l),f==="0x00"?"0x":f,d==="0x00"?"0x":d]}else n>0&&(u=[...u,F(n),"0x","0x"]);return ee(u)}function ke(t,e){const n=e??t,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const a=kt(n.r),i=kt(n.s);return[typeof s=="number"?s?F(1):"0x":r===0n?"0x":r===1n?F(1):r===27n?"0x":F(1),a==="0x00"?"0x":a,i==="0x00"?"0x":i]}function Lu(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:r,nonce:s,...a}=n,i=n.address;e.push([r?Gt(r):"0x",i,s?Gt(s):"0x",...ke({},a)])}return e}async function Mu({address:t,authorization:e,signature:n}){return Ye(Cs(t),await ma({authorization:e,signature:n}))}function ed(t){const{source:e}=t,n=new Map,r=new Us(8192),s=new Map,a=({address:i,chainId:o})=>`${i}.${o}`;return{async consume({address:i,chainId:o,client:c}){const u=a({address:i,chainId:o}),l=this.get({address:i,chainId:o,client:c});this.increment({address:i,chainId:o});const f=await l;return await e.set({address:i,chainId:o},f),r.set(u,f),f},async increment({address:i,chainId:o}){const c=a({address:i,chainId:o}),u=n.get(c)??0;n.set(c,u+1)},async get({address:i,chainId:o,client:c}){const u=a({address:i,chainId:o});let l=s.get(u);return l||(l=(async()=>{try{const f=await e.get({address:i,chainId:o,client:c}),d=r.get(u)??0;return d>0&&f<=d?d+1:(r.delete(u),f)}finally{this.reset({address:i,chainId:o})}})(),s.set(u,l)),(n.get(u)??0)+await l},reset({address:i,chainId:o}){const c=a({address:i,chainId:o});n.delete(c),s.delete(c)}}}const qu="0x6492649264926492649264926492649264926492649264926492649264926492";class Du extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Vu={checksum:new Du(8192)},gn=Vu.checksum;function ri(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=Xi(fc(t));return n==="Bytes"?r:lt(r)}const Hu=/^0x[a-fA-F0-9]{40}$/;function sn(t,e={}){const{strict:n=!0}=e;if(!Hu.test(t))throw new vs({address:t,cause:new _u});if(n){if(t.toLowerCase()===t)return;if(si(t)!==t)throw new vs({address:t,cause:new Zu})}}function si(t){if(gn.has(t))return gn.get(t);sn(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=ri(bc(e),{as:"Bytes"}),r=e.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&r[a]&&(r[a]=r[a].toUpperCase()),(n[a>>1]&15)>=8&&r[a+1]&&(r[a+1]=r[a+1].toUpperCase());const s=`0x${r.join("")}`;return gn.set(t,s),s}function Ln(t,e={}){const{strict:n=!0}=e??{};try{return sn(t,{strict:n}),!0}catch{return!1}}class vs extends j{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class _u extends j{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Zu extends j{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Wu=/^(.*)\[([0-9]*)\]$/,Ku=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ai=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,xs=2n**256n-1n;function Kt(t,e,n){const{checksumAddress:r,staticPosition:s}=n,a=Nr(e.type);if(a){const[i,o]=a;return Ju(t,{...e,type:o},{checksumAddress:r,length:i,staticPosition:s})}if(e.type==="tuple")return el(t,e,{checksumAddress:r,staticPosition:s});if(e.type==="address")return Yu(t,{checksum:r});if(e.type==="bool")return Xu(t);if(e.type.startsWith("bytes"))return Qu(t,e,{staticPosition:s});if(e.type.startsWith("uint")||e.type.startsWith("int"))return tl(t,e);if(e.type==="string")return nl(t,{staticPosition:s});throw new Fr(e.type)}const Ps=32,Mn=32;function Yu(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(s=>n?si(s):s)(lt(pc(r,-20))),32]}function Ju(t,e,n){const{checksumAddress:r,length:s,staticPosition:a}=n;if(!s){const c=Et(t.readBytes(Mn)),u=a+c,l=u+Ps;t.setPosition(u);const f=Et(t.readBytes(Ps)),d=be(e);let b=0;const m=[];for(let h=0;h<f;++h){t.setPosition(l+(d?h*32:b));const[v,g]=Kt(t,e,{checksumAddress:r,staticPosition:l});b+=g,m.push(v)}return t.setPosition(a+32),[m,32]}if(be(e)){const c=Et(t.readBytes(Mn)),u=a+c,l=[];for(let f=0;f<s;++f){t.setPosition(u+f*32);const[d]=Kt(t,e,{checksumAddress:r,staticPosition:u});l.push(d)}return t.setPosition(a+32),[l,32]}let i=0;const o=[];for(let c=0;c<s;++c){const[u,l]=Kt(t,e,{checksumAddress:r,staticPosition:a+i});i+=l,o.push(u)}return[o,i]}function Xu(t){return[yc(t.readBytes(32),{size:32}),32]}function Qu(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const a=Et(t.readBytes(32));t.setPosition(n+a);const i=Et(t.readBytes(32));if(i===0)return t.setPosition(n+32),["0x",32];const o=t.readBytes(i);return t.setPosition(n+32),[lt(o),32]}return[lt(t.readBytes(Number.parseInt(s,10),32)),32]}function tl(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),s=t.readBytes(32);return[r>48?mc(s,{signed:n}):Et(s,{signed:n}),32]}function el(t,e,n){const{checksumAddress:r,staticPosition:s}=n,a=e.components.length===0||e.components.some(({name:c})=>!c),i=a?[]:{};let o=0;if(be(e)){const c=Et(t.readBytes(Mn)),u=s+c;for(let l=0;l<e.components.length;++l){const f=e.components[l];t.setPosition(u+o);const[d,b]=Kt(t,f,{checksumAddress:r,staticPosition:u});o+=b,i[a?l:f?.name]=d}return t.setPosition(s+32),[i,32]}for(let c=0;c<e.components.length;++c){const u=e.components[c],[l,f]=Kt(t,u,{checksumAddress:r,staticPosition:s});i[a?c:u?.name]=l,o+=f}return[i,o]}function nl(t,{staticPosition:e}){const n=Et(t.readBytes(32)),r=e+n;t.setPosition(r);const s=Et(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const a=t.readBytes(s,32),i=gc(Ga(a));return t.setPosition(e+32),[i,32]}function rl({checksumAddress:t,parameters:e,values:n}){const r=[];for(let s=0;s<e.length;s++)r.push(kr({checksumAddress:t,parameter:e[s],value:n[s]}));return r}function kr({checksumAddress:t=!1,parameter:e,value:n}){const r=e,s=Nr(r.type);if(s){const[a,i]=s;return al(n,{checksumAddress:t,length:a,parameter:{...r,type:i}})}if(r.type==="tuple")return ll(n,{checksumAddress:t,parameter:r});if(r.type==="address")return sl(n,{checksum:t});if(r.type==="bool")return ol(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const a=r.type.startsWith("int"),[,,i="256"]=ai.exec(r.type)??[];return cl(n,{signed:a,size:Number(i)})}if(r.type.startsWith("bytes"))return il(n,{type:r.type});if(r.type==="string")return ul(n);throw new Fr(r.type)}function Ir(t){let e=0;for(let a=0;a<t.length;a++){const{dynamic:i,encoded:o}=t[a];i?e+=32:e+=tt(o)}const n=[],r=[];let s=0;for(let a=0;a<t.length;a++){const{dynamic:i,encoded:o}=t[a];i?(n.push(Z(e+s,{size:32})),r.push(o),s+=tt(o)):n.push(o)}return ut(...n,...r)}function sl(t,e){const{checksum:n=!1}=e;return sn(t,{strict:n}),{dynamic:!1,encoded:jt(t.toLowerCase())}}function al(t,e){const{checksumAddress:n,length:r,parameter:s}=e,a=r===null;if(!Array.isArray(t))throw new wl(t);if(!a&&t.length!==r)throw new gl({expectedLength:r,givenLength:t.length,type:`${s.type}[${r}]`});let i=!1;const o=[];for(let c=0;c<t.length;c++){const u=kr({checksumAddress:n,parameter:s,value:t[c]});u.dynamic&&(i=!0),o.push(u)}if(a||i){const c=Ir(o);if(a){const u=Z(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?ut(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:ut(...o.map(({encoded:c})=>c))}}function il(t,{type:e}){const[,n]=e.split("bytes"),r=tt(t);if(!n){let s=t;return r%32!==0&&(s=Lt(s,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:ut(jt(Z(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new oi({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Lt(t)}}function ol(t){if(typeof t!="boolean")throw new j(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:jt(Ua(t))}}function cl(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new Ma({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Z(t,{size:32,signed:e})}}function ul(t){const e=mr(t),n=Math.ceil(tt(e)/32),r=[];for(let s=0;s<n;s++)r.push(Lt(mt(e,s*32,(s+1)*32)));return{dynamic:!0,encoded:ut(Lt(Z(tt(e),{size:32})),...r)}}function ll(t,e){const{checksumAddress:n,parameter:r}=e;let s=!1;const a=[];for(let i=0;i<r.components.length;i++){const o=r.components[i],c=Array.isArray(t)?i:o.name,u=kr({checksumAddress:n,parameter:o,value:t[c]});a.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Ir(a):ut(...a.map(({encoded:i})=>i))}}function Nr(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function be(t){var e;const{type:n}=t;if(n==="string"||n==="bytes"||n.endsWith("[]"))return!0;if(n==="tuple")return(e=t.components)==null?void 0:e.some(be);const r=Nr(t.type);return!!(r&&be({...t,type:r[1]}))}const fl={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new hl({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new bl({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new Bs({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new Bs({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function dl(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(fl);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class Bs extends j{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class bl extends j{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class hl extends j{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function pl(t,e,n={}){const{as:r="Array",checksumAddress:s=!1}=n,a=typeof e=="string"?Ca(e):e,i=dl(a);if(_t(a)===0&&t.length>0)throw new yl;if(_t(a)&&_t(a)<32)throw new ml({data:typeof e=="string"?e:lt(e),parameters:t,size:_t(a)});let o=0;const c=r==="Array"?[]:{};for(let u=0;u<t.length;++u){const l=t[u];i.setPosition(o);const[f,d]=Kt(i,l,{checksumAddress:s,staticPosition:0});o+=d,r==="Array"?c.push(f):c[l.name??u]=f}return c}function Ar(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new ci({expectedLength:t.length,givenLength:e.length});const s=rl({checksumAddress:r,parameters:t,values:e}),a=Ir(s);return a.length===0?"0x":a}function qn(t,e){if(t.length!==e.length)throw new ci({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const s=t[r],a=e[r];n.push(qn.encode(s,a))}return ut(...n)}(function(t){function e(n,r,s=!1){if(n==="address"){const c=r;return sn(c),jt(c.toLowerCase(),s?32:0)}if(n==="string")return mr(r);if(n==="bytes")return r;if(n==="bool")return jt(Ua(r),s?32:1);const a=n.match(ai);if(a){const[c,u,l="256"]=a,f=Number.parseInt(l,10)/8;return Z(r,{size:s?32:f,signed:u==="int"})}const i=n.match(Ku);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new oi({expectedSize:Number.parseInt(u,10),value:r});return Lt(r,s?32:0)}const o=n.match(Wu);if(o&&Array.isArray(r)){const[c,u]=o,l=[];for(let f=0;f<r.length;f++)l.push(e(u,r[f],!0));return l.length===0?"0x":ut(...l)}throw new Fr(n)}t.encode=e})(qn||(qn={}));function ii(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?n0(t):t}class ml extends j{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Ji(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class yl extends j{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class gl extends j{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class oi extends j{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${tt(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class ci extends j{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class wl extends j{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Fr extends j{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function ui(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new wn({signature:t});if(typeof t.s>"u")throw new wn({signature:t});if(n&&typeof t.yParity>"u")throw new wn({signature:t});if(t.r<0n||t.r>xs)throw new Il({value:t.r});if(t.s<0n||t.s>xs)throw new Nl({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new $r({value:t.yParity})}function vl(t){return li(lt(t))}function li(t){if(t.length!==130&&t.length!==132)throw new kl({signature:t});const e=BigInt(mt(t,0,32)),n=BigInt(mt(t,32,64)),r=(()=>{const s=+`0x${t.slice(130)}`;if(!Number.isNaN(s))try{return Tr(s)}catch{throw new $r({value:s})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function xl(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return Pl(t)}function Pl(t){const e=typeof t=="string"?li(t):t instanceof Uint8Array?vl(t):typeof t.r=="string"?El(t):t.v?Bl(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return ui(e),e}function Bl(t){return{r:t.r,s:t.s,yParity:Tr(t.v)}}function El(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Tr(n)),typeof r!="number")throw new $r({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function Tr(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new Al({value:t})}class kl extends j{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${tt(Ic(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class wn extends j{constructor({signature:e}){super(`Signature \`${Ra(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Il extends j{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Nl extends j{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class $r extends j{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Al extends j{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Fl(t,e={}){return typeof t.chainId=="string"?Tl(t):{...t,...e.signature}}function Tl(t){const{address:e,chainId:n,nonce:r}=t,s=xl(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...s}}const $l="0x8010801080108010801080108010801080108010801080108010801080108010",Ol=ii("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function fi(t){if(typeof t=="string"){if(mt(t,-32)!==$l)throw new Rl(t)}else ui(t.authorization)}function Sl(t){fi(t);const e=La(mt(t,-64,-32)),n=mt(t,-e-64,-64),r=mt(t,0,-e-64),[s,a,i]=pl(Ol,n);return{authorization:Fl({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:a}:{}}}function zl(t){try{return fi(t),!0}catch{return!1}}let Rl=class extends j{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function nd(t){const{address:e,data:n,signature:r,to:s="hex"}=t,a=bt([ge([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,r]),qu]);return s==="hex"?a:It(a)}function Cl(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function Gl(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?rt(t.nonce):void 0,storageProof:t.storageProof?Cl(t.storageProof):void 0}}async function Ul(t,{address:e,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",i=n!==void 0?F(n):void 0,o=await t.request({method:"eth_getProof",params:[e,s,i||a]});return Gl(o)}async function jl(t,{address:e,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?F(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,s,a||r]})}async function Or(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:a,sender:i,nonce:o}){var c,u,l;const f=r||"latest",d=n!==void 0?F(n):void 0;let b=null;if(s?b=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?b=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,F(a)]},{dedupe:!0}):typeof a=="number"?b=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[d||f,F(a)]},{dedupe:!!d}):i&&typeof o=="number"&&(b=await t.request({method:"eth_getTransactionBySenderAndNonce",params:[i,F(o)]},{dedupe:!0})),!b)throw new ua({blockHash:e,blockNumber:n,blockTag:f,hash:s,index:a});return(((l=(u=(c=t.chain)==null?void 0:c.formatters)==null?void 0:u.transaction)==null?void 0:l.format)||Ke)(b,"getTransaction")}async function Ll(t,{hash:e,transactionReceipt:n}){const[r,s]=await Promise.all([G(t,Ee,"getBlockNumber")({}),e?G(t,Or,"getTransaction")({hash:e}):void 0]),a=n?.blockNumber||s?.blockNumber;return a?r-a+1n:0n}async function Oe(t,{hash:e}){var n,r,s;const a=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!a)throw new la({hash:e});return(((s=(r=(n=t.chain)==null?void 0:n.formatters)==null?void 0:r.transactionReceipt)==null?void 0:s.format)||wr)(a,"getTransactionReceipt")}async function Ml(t,e){var n;const{account:r,authorizationList:s,allowFailure:a=!0,blockNumber:i,blockOverrides:o,blockTag:c,stateOverride:u}=e,l=e.contracts,{batchSize:f=e.batchSize??1024,deployless:d=e.deployless??!1}=typeof((n=t.batch)==null?void 0:n.multicall)=="object"?t.batch.multicall:{},b=(()=>{if(e.multicallAddress)return e.multicallAddress;if(d)return null;if(t.chain)return re({blockNumber:i,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),m=[[]];let h=0,v=0;for(let x=0;x<l.length;x++){const{abi:p,address:y,args:w,functionName:B}=l[x];try{const A=dt({abi:p,args:w,functionName:B});v+=(A.length-2)/2,f>0&&v>f&&m[h].length>0&&(h++,v=(A.length-2)/2,m[h]=[]),m[h]=[...m[h],{allowFailure:!0,callData:A,target:y}]}catch(A){const z=Xt(A,{abi:p,address:y,args:w,docsPath:"/docs/contract/multicall",functionName:B,sender:r});if(!a)throw z;m[h]=[...m[h],{allowFailure:!0,callData:"0x",target:y}]}}const g=await Promise.allSettled(m.map(x=>G(t,ft,"readContract")({...b===null?{code:yr}:{address:b},abi:ze,account:r,args:[x],authorizationList:s,blockNumber:i,blockOverrides:o,blockTag:c,functionName:"aggregate3",stateOverride:u}))),k=[];for(let x=0;x<g.length;x++){const p=g[x];if(p.status==="rejected"){if(!a)throw p.reason;for(let w=0;w<m[x].length;w++)k.push({status:"failure",error:p.reason,result:void 0});continue}const y=p.value;for(let w=0;w<y.length;w++){const{returnData:B,success:A}=y[w],{callData:z}=m[x][w],{abi:$,address:T,functionName:S,args:P}=l[k.length];try{if(z==="0x")throw new me;if(!A)throw new He({data:B});const L=Dt({abi:$,args:P,data:B,functionName:S});k.push(a?{result:L,status:"success"}:L)}catch(L){const N=Xt(L,{abi:$,address:T,args:P,docsPath:"/docs/contract/multicall",functionName:S});if(!a)throw N;k.push({error:N,result:void 0,status:"failure"})}}}if(k.length!==l.length)throw new U("multicall results mismatch");return k}async function Dn(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:s,returnFullTransactions:a,traceTransfers:i,validation:o}=e;try{const c=[];for(const l of s){const f=l.blockOverrides?Da(l.blockOverrides):void 0,d=l.calls.map(m=>{const h=m,v=h.account?Q(h.account):void 0,g=h.abi?dt(h):h.data,k={...h,account:v,data:h.dataSuffix?Gs([g||"0x",h.dataSuffix]):g,from:h.from??v?.address};return ne(k),Pe(k)}),b=l.stateOverrides?ar(l.stateOverrides):void 0;c.push({blockOverrides:f,calls:d,stateOverrides:b})}const u=(typeof n=="bigint"?F(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:a,traceTransfers:i,validation:o},u]})).map((l,f)=>({...or(l),calls:l.calls.map((d,b)=>{var m,h;const{abi:v,args:g,functionName:k,to:x}=s[f].calls[b],p=((m=d.error)==null?void 0:m.data)??d.returnData,y=BigInt(d.gasUsed),w=(h=d.logs)==null?void 0:h.map($=>At($)),B=d.status==="0x1"?"success":"failure",A=v&&B==="success"&&p!=="0x"?Dt({abi:v,data:p,functionName:k}):null,z=(()=>{var $;if(B==="success")return;let T;if((($=d.error)==null?void 0:$.data)==="0x"?T=new me:d.error&&(T=new He(d.error)),!!T)return Xt(T,{abi:v??[],address:x??"0x",args:g,functionName:k??"<unknown>"})})();return{data:p,gasUsed:y,logs:w,status:B,...B==="success"?{result:A}:{error:z}}})}))}catch(c){const u=c,l=_e(u,{});throw l instanceof ye?u:l}}function Vn(t){let e=!0,n="",r=0,s="",a=!1;for(let i=0;i<t.length;i++){const o=t[i];if(["(",")",","].includes(o)&&(e=!0),o==="("&&r++,o===")"&&r--,!!e){if(r===0){if(o===" "&&["event","function","error",""].includes(s))s="";else if(s+=o,o===")"){a=!0;break}continue}if(o===" "){t[i-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=o,n+=o}}if(!a)throw new j("Unable to normalize signature.");return s}function Hn(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Ln(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,a)=>Hn(Object.values(t)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>Hn(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function di(t,e,n){for(const r in t){const s=t[r],a=e[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return di(s.components,a.components,n[r]);const i=[s.type,a.type];if(i.includes("address")&&i.includes("bytes20")||(i.includes("address")&&i.includes("string")?Ln(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")&&Ln(n[r],{strict:!1})))return i}}function bi(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?e0(t):t;return{...r,...n?{hash:Zt(r)}:{}}}function an(t,e,n){const{args:r=[],prepare:s=!0}=n??{},a=Nc(e,{strict:!1}),i=t.filter(u=>a?u.type==="function"||u.type==="error"?hi(u)===mt(e,0,4):u.type==="event"?Zt(u)===e:!1:"name"in u&&u.name===e);if(i.length===0)throw new Ue({name:e});if(i.length===1)return{...i[0],...s?{hash:Zt(i[0])}:{}};let o;for(const u of i)if("inputs"in u){if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Zt(u)}:{}};continue}if(!(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)&&r.every((l,f)=>{const d="inputs"in u&&u.inputs[f];return d?Hn(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=di(u.inputs,o.inputs,r);if(l)throw new Dl({abiItem:u,type:l[0]},{abiItem:o,type:l[1]})}o=u}}const c=(()=>{if(o)return o;const[u,...l]=i;return{...u,overloads:l}})();if(!c)throw new Ue({name:e});return{...c,...s?{hash:Zt(c)}:{}}}function hi(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return an(n,r)}return t[0]})();return mt(Zt(e),0,4)}function ql(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,s]=t;return an(r,s)}return t[0]})(),n=typeof e=="string"?e:Fn(e);return Vn(n)}function Zt(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return an(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:ri(mr(ql(e)))}class Dl extends j{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${Vn(Fn(e.abiItem))}\`, and`,`\`${n.type}\` in \`${Vn(Fn(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Ue extends j{constructor({name:e,data:n,type:r="item"}){const s=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Vl(...t){var e;const[n,r]=(()=>{if(Array.isArray(t[0])){const[i,o]=t;return[_l(i),o]}return t})(),{bytecode:s,args:a}=r;return ut(s,(e=n.inputs)!=null&&e.length&&a!=null&&a.length?Ar(n.inputs,a):"0x")}function Hl(t){return bi(t)}function _l(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new Ue({name:"constructor"});return e}function Zl(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[u,l,f]=t;return[Es(u,l,{args:f}),f]}const[o,c]=t;return[o,c]})(),{overloads:r}=e,s=r?Es([e,...r],e.name,{args:n}):e,a=Wl(s),i=n.length>0?Ar(s.inputs,n):void 0;return i?ut(a,i):a}function Ht(t,e={}){return bi(t,e)}function Es(t,e,n){const r=an(t,e,n);if(r.type!=="function")throw new Ue({name:e,type:"function"});return r}function Wl(t){return hi(t)}const Kl="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ht="0x0000000000000000000000000000000000000000",Yl="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Jl(t,e){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:a,traceAssetChanges:i,traceTransfers:o,validation:c}=e,u=e.account?Q(e.account):void 0;if(i&&!u)throw new U("`account` is required when `traceAssetChanges` is true");const l=u?Vl(Hl("constructor(bytes, bytes)"),{bytecode:Va,args:[Yl,Zl(Ht("function getBalance(address)"),[u.address])]}):void 0,f=i?await Promise.all(e.calls.map(async E=>{if(!E.data&&!E.abi)return;const{accessList:R}=await Qa(t,{account:u.address,...E,data:E.abi?dt(E):E.data});return R.map(({address:C,storageKeys:M})=>M.length>0?C:null)})).then(E=>E.flat().filter(Boolean)):[],d=await Dn(t,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:l}],stateOverrides:a},{calls:f.map((E,R)=>({abi:[Ht("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:E,from:ht,nonce:R})),stateOverrides:[{address:ht,nonce:0}]}]:[],{calls:[...s,{}].map(E=>({...E,from:u?.address})),stateOverrides:a},...i?[{calls:[{data:l}]},{calls:f.map((E,R)=>({abi:[Ht("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:E,from:ht,nonce:R})),stateOverrides:[{address:ht,nonce:0}]},{calls:f.map((E,R)=>({to:E,abi:[Ht("function decimals() returns (uint256)")],functionName:"decimals",from:ht,nonce:R})),stateOverrides:[{address:ht,nonce:0}]},{calls:f.map((E,R)=>({to:E,abi:[Ht("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ht,nonce:R})),stateOverrides:[{address:ht,nonce:0}]},{calls:f.map((E,R)=>({to:E,abi:[Ht("function symbol() returns (string)")],functionName:"symbol",from:ht,nonce:R})),stateOverrides:[{address:ht,nonce:0}]}]:[]],traceTransfers:o,validation:c}),b=i?d[2]:d[0],[m,h,,v,g,k,x,p]=i?d:[],{calls:y,...w}=b,B=y.slice(0,-1)??[],A=m?.calls??[],z=h?.calls??[],$=[...A,...z].map(E=>E.status==="success"?ot(E.data):null),T=v?.calls??[],S=g?.calls??[],P=[...T,...S].map(E=>E.status==="success"?ot(E.data):null),L=(k?.calls??[]).map(E=>E.status==="success"?E.result:null),N=(p?.calls??[]).map(E=>E.status==="success"?E.result:null),I=(x?.calls??[]).map(E=>E.status==="success"?E.result:null),O=[];for(const[E,R]of P.entries()){const C=$[E];if(typeof R!="bigint"||typeof C!="bigint")continue;const M=L[E-1],_=N[E-1],D=I[E-1],q=E===0?{address:Kl,decimals:18,symbol:"ETH"}:{address:f[E-1],decimals:D||M?Number(M??1):void 0,symbol:_??void 0};O.some(gt=>gt.token.address===q.address)||O.push({token:q,value:{pre:C,post:R,diff:R-C}})}return{assetChanges:O,block:w,results:B}}const pi="0x6492649264926492649264926492649264926492649264926492649264926492";function Xl(t){if(mt(t,-32)!==pi)throw new ef(t)}function Ql(t){const{data:e,signature:n,to:r}=t;return ut(Ar(ii("address, bytes, bytes"),[r,e,n]),pi)}function tf(t){try{return Xl(t),!0}catch{return!1}}class ef extends j{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}const Sr=BigInt(0),_n=BigInt(1);function Ie(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function zr(t){if(!Ie(t))throw new Error("Uint8Array expected")}function he(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function $e(t){const e=t.toString(16);return e.length&1?"0"+e:e}function mi(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Sr:BigInt("0x"+t)}const yi=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",nf=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function pe(t){if(zr(t),yi)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=nf[t[n]];return e}const vt={_0:48,_9:57,A:65,F:70,a:97,f:102};function ks(t){if(t>=vt._0&&t<=vt._9)return t-vt._0;if(t>=vt.A&&t<=vt.F)return t-(vt.A-10);if(t>=vt.a&&t<=vt.f)return t-(vt.a-10)}function je(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(yi)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const i=ks(t.charCodeAt(a)),o=ks(t.charCodeAt(a+1));if(i===void 0||o===void 0){const c=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+a)}r[s]=i*16+o}return r}function Ct(t){return mi(pe(t))}function gi(t){return zr(t),mi(pe(Uint8Array.from(t).reverse()))}function Ne(t,e){return je(t.toString(16).padStart(e*2,"0"))}function wi(t,e){return Ne(t,e).reverse()}function nt(t,e,n){let r;if(typeof e=="string")try{r=je(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(Ie(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function Le(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];zr(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}const vn=t=>typeof t=="bigint"&&Sr<=t;function Rr(t,e,n){return vn(t)&&vn(e)&&vn(n)&&e<=t&&t<n}function Yt(t,e,n,r){if(!Rr(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function rf(t){let e;for(e=0;t>Sr;t>>=_n,e+=1);return e}const on=t=>(_n<<BigInt(t))-_n,xn=t=>new Uint8Array(t),Is=t=>Uint8Array.from(t);function sf(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=xn(t),s=xn(t),a=0;const i=()=>{r.fill(1),s.fill(0),a=0},o=(...l)=>n(s,r,...l),c=(l=xn(0))=>{s=o(Is([0]),l),r=o(),l.length!==0&&(s=o(Is([1]),l),r=o())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const f=[];for(;l<e;){r=o();const d=r.slice();f.push(d),l+=r.length}return Le(...f)};return(l,f)=>{i(),c(l);let d;for(;!(d=f(u()));)c();return i(),d}}const af={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Ie(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function cn(t,e,n={}){const r=(s,a,i)=>{const o=af[a];if(typeof o!="function")throw new Error("invalid validator function");const c=t[s];if(!(i&&c===void 0)&&!o(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+c)};for(const[s,a]of Object.entries(e))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return t}function Ns(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const a=t(n,...r);return e.set(n,a),a}}const Y=BigInt(0),W=BigInt(1),Rt=BigInt(2),of=BigInt(3),vi=BigInt(4),xi=BigInt(5),Pi=BigInt(8);function K(t,e){const n=t%e;return n>=Y?n:e+n}function et(t,e,n){let r=t;for(;e-- >Y;)r*=r,r%=n;return r}function Zn(t,e){if(t===Y)throw new Error("invert: expected non-zero number");if(e<=Y)throw new Error("invert: expected positive modulus, got "+e);let n=K(t,e),r=e,s=Y,a=W;for(;n!==Y;){const i=r/n,o=r%n,c=s-a*i;r=n,n=o,s=a,a=c}if(r!==W)throw new Error("invert: does not exist");return K(s,e)}function Bi(t,e){const n=(t.ORDER+W)/vi,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function cf(t,e){const n=(t.ORDER-xi)/Pi,r=t.mul(e,Rt),s=t.pow(r,n),a=t.mul(e,s),i=t.mul(t.mul(a,Rt),s),o=t.mul(a,t.sub(i,t.ONE));if(!t.eql(t.sqr(o),e))throw new Error("Cannot find square root");return o}function uf(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-W,n=0;for(;e%Rt===Y;)e/=Rt,n++;let r=Rt;const s=Cr(t);for(;As(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Bi;let a=s.pow(r,e);const i=(e+W)/Rt;return function(o,c){if(o.is0(c))return c;if(As(o,c)!==1)throw new Error("Cannot find square root");let u=n,l=o.mul(o.ONE,a),f=o.pow(c,e),d=o.pow(c,i);for(;!o.eql(f,o.ONE);){if(o.is0(f))return o.ZERO;let b=1,m=o.sqr(f);for(;!o.eql(m,o.ONE);)if(b++,m=o.sqr(m),b===u)throw new Error("Cannot find square root");const h=W<<BigInt(u-b-1),v=o.pow(l,h);u=b,l=o.sqr(v),f=o.mul(f,l),d=o.mul(d,v)}return d}}function lf(t){return t%vi===of?Bi:t%Pi===xi?cf:uf(t)}const ff=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function df(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=ff.reduce((r,s)=>(r[s]="function",r),e);return cn(t,n)}function bf(t,e,n){if(n<Y)throw new Error("invalid exponent, negatives unsupported");if(n===Y)return t.ONE;if(n===W)return e;let r=t.ONE,s=e;for(;n>Y;)n&W&&(r=t.mul(r,s)),s=t.sqr(s),n>>=W;return r}function Ei(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((i,o,c)=>t.is0(o)?i:(r[c]=i,t.mul(i,o)),t.ONE),a=t.inv(s);return e.reduceRight((i,o,c)=>t.is0(o)?i:(r[c]=t.mul(i,r[c]),t.mul(i,o)),a),r}function As(t,e){const n=(t.ORDER-W)/Rt,r=t.pow(e,n),s=t.eql(r,t.ONE),a=t.eql(r,t.ZERO),i=t.eql(r,t.neg(t.ONE));if(!s&&!a&&!i)throw new Error("invalid Legendre symbol result");return s?1:a?0:-1}function ki(t,e){e!==void 0&&eo(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Cr(t,e,n=!1,r={}){if(t<=Y)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:a}=ki(t,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const o=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:a,MASK:on(s),ZERO:Y,ONE:W,create:c=>K(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Y<=c&&c<t},is0:c=>c===Y,isOdd:c=>(c&W)===W,neg:c=>K(-c,t),eql:(c,u)=>c===u,sqr:c=>K(c*c,t),add:(c,u)=>K(c+u,t),sub:(c,u)=>K(c-u,t),mul:(c,u)=>K(c*u,t),pow:(c,u)=>bf(o,c,u),div:(c,u)=>K(c*Zn(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Zn(c,t),sqrt:r.sqrt||(c=>(i||(i=lf(t)),i(o,c))),toBytes:c=>n?wi(c,a):Ne(c,a),fromBytes:c=>{if(c.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+c.length);return n?gi(c):Ct(c)},invertBatch:c=>Ei(o,c),cmov:(c,u,l)=>l?u:c});return Object.freeze(o)}function Ii(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Ni(t){const e=Ii(t);return e+Math.ceil(e/2)}function hf(t,e,n=!1){const r=t.length,s=Ii(e),a=Ni(e);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const i=n?gi(t):Ct(t),o=K(i,e-W)+W;return n?wi(o,s):Ne(o,s)}const Fs=BigInt(0),Wn=BigInt(1);function Pn(t,e){const n=e.negate();return t?n:e}function Ai(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Bn(t,e){Ai(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,a=on(t),i=BigInt(t);return{windows:n,windowSize:r,mask:a,maxNumber:s,shiftBy:i}}function Ts(t,e,n){const{windowSize:r,mask:s,maxNumber:a,shiftBy:i}=n;let o=Number(t&s),c=t>>i;o>r&&(o-=a,c+=Wn);const u=e*r,l=u+Math.abs(o)-1,f=o===0,d=o<0,b=e%2!==0;return{nextN:c,offset:l,isZero:f,isNeg:d,isNegF:b,offsetF:u}}function pf(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function mf(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const En=new WeakMap,Fi=new WeakMap;function kn(t){return Fi.get(t)||1}function yf(t,e){return{constTimeNegate:Pn,hasPrecomputes(n){return kn(n)!==1},unsafeLadder(n,r,s=t.ZERO){let a=n;for(;r>Fs;)r&Wn&&(s=s.add(a)),a=a.double(),r>>=Wn;return s},precomputeWindow(n,r){const{windows:s,windowSize:a}=Bn(r,e),i=[];let o=n,c=o;for(let u=0;u<s;u++){c=o,i.push(c);for(let l=1;l<a;l++)c=c.add(o),i.push(c);o=c.double()}return i},wNAF(n,r,s){let a=t.ZERO,i=t.BASE;const o=Bn(n,e);for(let c=0;c<o.windows;c++){const{nextN:u,offset:l,isZero:f,isNeg:d,isNegF:b,offsetF:m}=Ts(s,c,o);s=u,f?i=i.add(Pn(b,r[m])):a=a.add(Pn(d,r[l]))}return{p:a,f:i}},wNAFUnsafe(n,r,s,a=t.ZERO){const i=Bn(n,e);for(let o=0;o<i.windows&&s!==Fs;o++){const{nextN:c,offset:u,isZero:l,isNeg:f}=Ts(s,o,i);if(s=c,!l){const d=r[u];a=a.add(f?d.negate():d)}}return a},getPrecomputes(n,r,s){let a=En.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&En.set(r,s(a))),a},wNAFCached(n,r,s){const a=kn(n);return this.wNAF(a,this.getPrecomputes(a,n,s),r)},wNAFCachedUnsafe(n,r,s,a){const i=kn(n);return i===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,a)},setWindowSize(n,r){Ai(r,e),Fi.set(n,r),En.delete(n)}}}function gf(t,e,n,r){pf(n,t),mf(r,e);const s=n.length,a=r.length;if(s!==a)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,o=rf(BigInt(s));let c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);const u=on(c),l=new Array(Number(u)+1).fill(i),f=Math.floor((e.BITS-1)/c)*c;let d=i;for(let b=f;b>=0;b-=c){l.fill(i);for(let h=0;h<a;h++){const v=r[h],g=Number(v>>BigInt(b)&u);l[g]=l[g].add(n[h])}let m=i;for(let h=l.length-1,v=i;h>0;h--)v=v.add(l[h]),m=m.add(v);if(d=d.add(m),b!==0)for(let h=0;h<c;h++)d=d.double()}return d}function Ti(t){return df(t.Fp),cn(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ki(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function $s(t){t.lowS!==void 0&&he("lowS",t.lowS),t.prehash!==void 0&&he("prehash",t.prehash)}function wf(t){const e=Ti(t);cn(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class vf extends Error{constructor(e=""){super(e)}}const xt={Err:vf,_tlv:{encode:(t,e)=>{const{Err:n}=xt;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=$e(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?$e(s.length/2|128):"";return $e(t)+a+s+e},decode(t,e){const{Err:n}=xt;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],a=!!(s&128);let i=0;if(!a)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const l of u)i=i<<8|l;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const o=e.subarray(r,r+i);if(o.length!==i)throw new n("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+i)}}},_int:{encode(t){const{Err:e}=xt;if(t<Pt)throw new e("integer: negative integers are not allowed");let n=$e(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=xt;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Ct(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=xt,s=nt("signature",t),{v:a,l:i}=r.decode(48,s);if(i.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,a),{v:u,l}=r.decode(2,c);if(l.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=xt,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),a=r+s;return e.encode(48,a)}};function In(t,e){return pe(Ne(t,e))}const Pt=BigInt(0),V=BigInt(1);BigInt(2);const Nn=BigInt(3),xf=BigInt(4);function Pf(t){const e=wf(t),{Fp:n}=e,r=Cr(e.n,e.nBitLength),s=e.toBytes||((x,p,y)=>{const w=p.toAffine();return Le(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),a=e.fromBytes||(x=>{const p=x.subarray(1),y=n.fromBytes(p.subarray(0,n.BYTES)),w=n.fromBytes(p.subarray(n.BYTES,2*n.BYTES));return{x:y,y:w}});function i(x){const{a:p,b:y}=e,w=n.sqr(x),B=n.mul(w,x);return n.add(n.add(B,n.mul(x,p)),y)}function o(x,p){const y=n.sqr(p),w=i(x);return n.eql(y,w)}if(!o(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,Nn),xf),u=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function l(x){return Rr(x,V,e.n)}function f(x){const{allowedPrivateKeyLengths:p,nByteLength:y,wrapPrivateKey:w,n:B}=e;if(p&&typeof x!="bigint"){if(Ie(x)&&(x=pe(x)),typeof x!="string"||!p.includes(x.length))throw new Error("invalid private key");x=x.padStart(y*2,"0")}let A;try{A=typeof x=="bigint"?x:Ct(nt("private key",x,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof x)}return w&&(A=K(A,B)),Yt("private key",A,V,B),A}function d(x){if(!(x instanceof h))throw new Error("ProjectivePoint expected")}const b=Ns((x,p)=>{const{px:y,py:w,pz:B}=x;if(n.eql(B,n.ONE))return{x:y,y:w};const A=x.is0();p==null&&(p=A?n.ONE:n.inv(B));const z=n.mul(y,p),$=n.mul(w,p),T=n.mul(B,p);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(T,n.ONE))throw new Error("invZ was invalid");return{x:z,y:$}}),m=Ns(x=>{if(x.is0()){if(e.allowInfinityPoint&&!n.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:p,y}=x.toAffine();if(!n.isValid(p)||!n.isValid(y))throw new Error("bad point: x or y not FE");if(!o(p,y))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(p,y,w){if(p==null||!n.isValid(p))throw new Error("x required");if(y==null||!n.isValid(y)||n.is0(y))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required");this.px=p,this.py=y,this.pz=w,Object.freeze(this)}static fromAffine(p){const{x:y,y:w}=p||{};if(!p||!n.isValid(y)||!n.isValid(w))throw new Error("invalid affine point");if(p instanceof h)throw new Error("projective point not allowed");const B=A=>n.eql(A,n.ZERO);return B(y)&&B(w)?h.ZERO:new h(y,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){const y=Ei(n,p.map(w=>w.pz));return p.map((w,B)=>w.toAffine(y[B])).map(h.fromAffine)}static fromHex(p){const y=h.fromAffine(a(nt("pointHex",p)));return y.assertValidity(),y}static fromPrivateKey(p){return h.BASE.multiply(f(p))}static msm(p,y){return gf(h,r,p,y)}_setWindowSize(p){k.setWindowSize(this,p)}assertValidity(){m(this)}hasEvenY(){const{y:p}=this.toAffine();if(n.isOdd)return!n.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){d(p);const{px:y,py:w,pz:B}=this,{px:A,py:z,pz:$}=p,T=n.eql(n.mul(y,$),n.mul(A,B)),S=n.eql(n.mul(w,$),n.mul(z,B));return T&&S}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:p,b:y}=e,w=n.mul(y,Nn),{px:B,py:A,pz:z}=this;let $=n.ZERO,T=n.ZERO,S=n.ZERO,P=n.mul(B,B),L=n.mul(A,A),N=n.mul(z,z),I=n.mul(B,A);return I=n.add(I,I),S=n.mul(B,z),S=n.add(S,S),$=n.mul(p,S),T=n.mul(w,N),T=n.add($,T),$=n.sub(L,T),T=n.add(L,T),T=n.mul($,T),$=n.mul(I,$),S=n.mul(w,S),N=n.mul(p,N),I=n.sub(P,N),I=n.mul(p,I),I=n.add(I,S),S=n.add(P,P),P=n.add(S,P),P=n.add(P,N),P=n.mul(P,I),T=n.add(T,P),N=n.mul(A,z),N=n.add(N,N),P=n.mul(N,I),$=n.sub($,P),S=n.mul(N,L),S=n.add(S,S),S=n.add(S,S),new h($,T,S)}add(p){d(p);const{px:y,py:w,pz:B}=this,{px:A,py:z,pz:$}=p;let T=n.ZERO,S=n.ZERO,P=n.ZERO;const L=e.a,N=n.mul(e.b,Nn);let I=n.mul(y,A),O=n.mul(w,z),E=n.mul(B,$),R=n.add(y,w),C=n.add(A,z);R=n.mul(R,C),C=n.add(I,O),R=n.sub(R,C),C=n.add(y,B);let M=n.add(A,$);return C=n.mul(C,M),M=n.add(I,E),C=n.sub(C,M),M=n.add(w,B),T=n.add(z,$),M=n.mul(M,T),T=n.add(O,E),M=n.sub(M,T),P=n.mul(L,C),T=n.mul(N,E),P=n.add(T,P),T=n.sub(O,P),P=n.add(O,P),S=n.mul(T,P),O=n.add(I,I),O=n.add(O,I),E=n.mul(L,E),C=n.mul(N,C),O=n.add(O,E),E=n.sub(I,E),E=n.mul(L,E),C=n.add(C,E),I=n.mul(O,C),S=n.add(S,I),I=n.mul(M,C),T=n.mul(R,T),T=n.sub(T,I),I=n.mul(R,O),P=n.mul(M,P),P=n.add(P,I),new h(T,S,P)}subtract(p){return this.add(p.negate())}is0(){return this.equals(h.ZERO)}wNAF(p){return k.wNAFCached(this,p,h.normalizeZ)}multiplyUnsafe(p){const{endo:y,n:w}=e;Yt("scalar",p,Pt,w);const B=h.ZERO;if(p===Pt)return B;if(this.is0()||p===V)return this;if(!y||k.hasPrecomputes(this))return k.wNAFCachedUnsafe(this,p,h.normalizeZ);let{k1neg:A,k1:z,k2neg:$,k2:T}=y.splitScalar(p),S=B,P=B,L=this;for(;z>Pt||T>Pt;)z&V&&(S=S.add(L)),T&V&&(P=P.add(L)),L=L.double(),z>>=V,T>>=V;return A&&(S=S.negate()),$&&(P=P.negate()),P=new h(n.mul(P.px,y.beta),P.py,P.pz),S.add(P)}multiply(p){const{endo:y,n:w}=e;Yt("scalar",p,V,w);let B,A;if(y){const{k1neg:z,k1:$,k2neg:T,k2:S}=y.splitScalar(p);let{p:P,f:L}=this.wNAF($),{p:N,f:I}=this.wNAF(S);P=k.constTimeNegate(z,P),N=k.constTimeNegate(T,N),N=new h(n.mul(N.px,y.beta),N.py,N.pz),B=P.add(N),A=L.add(I)}else{const{p:z,f:$}=this.wNAF(p);B=z,A=$}return h.normalizeZ([B,A])[0]}multiplyAndAddUnsafe(p,y,w){const B=h.BASE,A=($,T)=>T===Pt||T===V||!$.equals(B)?$.multiplyUnsafe(T):$.multiply(T),z=A(this,y).add(A(p,w));return z.is0()?void 0:z}toAffine(p){return b(this,p)}isTorsionFree(){const{h:p,isTorsionFree:y}=e;if(p===V)return!0;if(y)return y(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:p,clearCofactor:y}=e;return p===V?this:y?y(h,this):this.multiplyUnsafe(e.h)}toRawBytes(p=!0){return he("isCompressed",p),this.assertValidity(),s(h,this,p)}toHex(p=!0){return he("isCompressed",p),pe(this.toRawBytes(p))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const{endo:v,nBitLength:g}=e,k=yf(h,v?Math.ceil(g/2):g);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:f,weierstrassEquation:i,isWithinCurveOrder:l}}function Bf(t){const e=Ti(t);return cn(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Ef(t){const e=Bf(t),{Fp:n,n:r,nByteLength:s,nBitLength:a}=e,i=n.BYTES+1,o=2*n.BYTES+1;function c(N){return K(N,r)}function u(N){return Zn(N,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:b}=Pf({...e,toBytes(N,I,O){const E=I.toAffine(),R=n.toBytes(E.x),C=Le;return he("isCompressed",O),O?C(Uint8Array.from([I.hasEvenY()?2:3]),R):C(Uint8Array.from([4]),R,n.toBytes(E.y))},fromBytes(N){const I=N.length,O=N[0],E=N.subarray(1);if(I===i&&(O===2||O===3)){const R=Ct(E);if(!Rr(R,V,n.ORDER))throw new Error("Point is not on curve");const C=d(R);let M;try{M=n.sqrt(C)}catch(D){const q=D instanceof Error?": "+D.message:"";throw new Error("Point is not on curve"+q)}const _=(M&V)===V;return(O&1)===1!==_&&(M=n.neg(M)),{x:R,y:M}}else if(I===o&&O===4){const R=n.fromBytes(E.subarray(0,n.BYTES)),C=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:R,y:C}}else{const R=i,C=o;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+C+", got "+I)}}});function m(N){const I=r>>V;return N>I}function h(N){return m(N)?c(-N):N}const v=(N,I,O)=>Ct(N.slice(I,O));class g{constructor(I,O,E){Yt("r",I,V,r),Yt("s",O,V,r),this.r=I,this.s=O,E!=null&&(this.recovery=E),Object.freeze(this)}static fromCompact(I){const O=s;return I=nt("compactSignature",I,O*2),new g(v(I,0,O),v(I,O,2*O))}static fromDER(I){const{r:O,s:E}=xt.toSig(nt("DER",I));return new g(O,E)}assertValidity(){}addRecoveryBit(I){return new g(this.r,this.s,I)}recoverPublicKey(I){const{r:O,s:E,recovery:R}=this,C=B(nt("msgHash",I));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const M=R===2||R===3?O+e.n:O;if(M>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const _=R&1?"03":"02",D=l.fromHex(_+In(M,n.BYTES)),q=u(M),gt=c(-C*q),at=c(E*q),Tt=l.BASE.multiplyAndAddUnsafe(D,gt,at);if(!Tt)throw new Error("point at infinify");return Tt.assertValidity(),Tt}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return je(this.toDERHex())}toDERHex(){return xt.hexFromSig(this)}toCompactRawBytes(){return je(this.toCompactHex())}toCompactHex(){const I=s;return In(this.r,I)+In(this.s,I)}}const k={isValidPrivateKey(N){try{return f(N),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const N=Ni(e.n);return hf(e.randomBytes(N),e.n)},precompute(N=8,I=l.BASE){return I._setWindowSize(N),I.multiply(BigInt(3)),I}};function x(N,I=!0){return l.fromPrivateKey(N).toRawBytes(I)}function p(N){if(typeof N=="bigint")return!1;if(N instanceof l)return!0;const I=nt("key",N).length,O=n.BYTES,E=O+1,R=2*O+1;if(!(e.allowedPrivateKeyLengths||s===E))return I===E||I===R}function y(N,I,O=!0){if(p(N)===!0)throw new Error("first arg must be private key");if(p(I)===!1)throw new Error("second arg must be public key");return l.fromHex(I).multiply(f(N)).toRawBytes(O)}const w=e.bits2int||function(N){if(N.length>8192)throw new Error("input is too large");const I=Ct(N),O=N.length*8-a;return O>0?I>>BigInt(O):I},B=e.bits2int_modN||function(N){return c(w(N))},A=on(a);function z(N){return Yt("num < 2^"+a,N,Pt,A),Ne(N,s)}function $(N,I,O=T){if(["recovered","canonical"].some(St=>St in O))throw new Error("sign() legacy options not supported");const{hash:E,randomBytes:R}=e;let{lowS:C,prehash:M,extraEntropy:_}=O;C==null&&(C=!0),N=nt("msgHash",N),$s(O),M&&(N=nt("prehashed msgHash",E(N)));const D=B(N),q=f(I),gt=[z(q),z(D)];if(_!=null&&_!==!1){const St=_===!0?R(n.BYTES):_;gt.push(nt("extraEntropy",St))}const at=Le(...gt),Tt=D;function Ae(St){const ae=w(St);if(!b(ae))return;const Fe=u(ae),ie=l.BASE.multiply(ae).toAffine(),Vt=c(ie.x);if(Vt===Pt)return;const zt=c(Fe*c(Tt+Vt*q));if(zt===Pt)return;let oe=(ie.x===Vt?0:2)|Number(ie.y&V),Ur=zt;return C&&m(zt)&&(Ur=h(zt),oe^=1),new g(Vt,Ur,oe)}return{seed:at,k2sig:Ae}}const T={lowS:e.lowS,prehash:!1},S={lowS:e.lowS,prehash:!1};function P(N,I,O=T){const{seed:E,k2sig:R}=$(N,I,O),C=e;return sf(C.hash.outputLen,C.nByteLength,C.hmac)(E,R)}l.BASE._setWindowSize(8);function L(N,I,O,E=S){var R;const C=N;I=nt("msgHash",I),O=nt("publicKey",O);const{lowS:M,prehash:_,format:D}=E;if($s(E),"strict"in E)throw new Error("options.strict was renamed to lowS");if(D!==void 0&&D!=="compact"&&D!=="der")throw new Error("format must be compact or der");const q=typeof C=="string"||Ie(C),gt=!q&&!D&&typeof C=="object"&&C!==null&&typeof C.r=="bigint"&&typeof C.s=="bigint";if(!q&&!gt)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let at,Tt;try{if(gt&&(at=new g(C.r,C.s)),q){try{D!=="compact"&&(at=g.fromDER(C))}catch(oe){if(!(oe instanceof xt.Err))throw oe}!at&&D!=="der"&&(at=g.fromCompact(C))}Tt=l.fromHex(O)}catch{return!1}if(!at||M&&at.hasHighS())return!1;_&&(I=e.hash(I));const{r:Ae,s:St}=at,ae=B(I),Fe=u(St),ie=c(ae*Fe),Vt=c(Ae*Fe),zt=(R=l.BASE.multiplyAndAddUnsafe(Tt,ie,Vt))==null?void 0:R.toAffine();return zt?c(zt.x)===Ae:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:y,sign:P,verify:L,ProjectivePoint:l,Signature:g,utils:k}}function kf(t){return{hash:t,hmac:(e,...n)=>ro(t,e,so(...n)),randomBytes:no}}function If(t,e){const n=r=>Ef({...t,...kf(r)});return{...n(e),create:n}}const $i=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Os=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Nf=BigInt(0),Af=BigInt(1),Kn=BigInt(2),Ss=(t,e)=>(t+e/Kn)/e;function Ff(t){const e=$i,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),i=BigInt(23),o=BigInt(44),c=BigInt(88),u=t*t*t%e,l=u*u*t%e,f=et(l,n,e)*l%e,d=et(f,n,e)*l%e,b=et(d,Kn,e)*u%e,m=et(b,s,e)*b%e,h=et(m,a,e)*m%e,v=et(h,o,e)*h%e,g=et(v,c,e)*v%e,k=et(g,o,e)*h%e,x=et(k,n,e)*l%e,p=et(x,i,e)*m%e,y=et(p,r,e)*u%e,w=et(y,Kn,e);if(!Yn.eql(Yn.sqr(w),t))throw new Error("Cannot find square root");return w}const Yn=Cr($i,void 0,void 0,{sqrt:Ff}),Gr=If({a:Nf,b:BigInt(7),Fp:Yn,n:Os,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Os,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Af*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,i=BigInt("0x100000000000000000000000000000000"),o=Ss(a*t,e),c=Ss(-r*t,e);let u=K(t-o*n-c*s,e),l=K(-o*r-c*a,e);const f=u>i,d=l>i;if(f&&(u=e-u),d&&(l=e-l),u>i||l>i)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:d,k2:l}}}},_s),Tf=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Gr},Symbol.toStringTag,{value:"Module"}));function $f({r:t,s:e,to:n="hex",v:r,yParity:s}){const a=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Gr.Signature(ot(t),ot(e)).toCompactHex()}${a===0?"1b":"1c"}`;return n==="hex"?i:It(i)}async function un(t,e){var n,r,s,a;const{address:i,chain:o=t.chain,hash:c,erc6492VerifierAddress:u=e.universalSignatureVerifierAddress??((r=(n=o?.contracts)==null?void 0:n.erc6492Verifier)==null?void 0:r.address),multicallAddress:l=e.multicallAddress??((a=(s=o?.contracts)==null?void 0:s.multicall3)==null?void 0:a.address)}=e;if(o!=null&&o.verifyHash)return await o.verifyHash(t,e);const f=(()=>{const d=e.signature;return le(d)?d:typeof d=="object"&&"r"in d&&"s"in d?$f(d):H(d)})();try{return zl(f)?await Of(t,{...e,multicallAddress:l,signature:f}):await Sf(t,{...e,verifierAddress:u,signature:f})}catch(d){try{if(Ye(Cs(i),await ba({hash:c,signature:f})))return!0}catch{}if(d instanceof Mt)return!1;throw d}}async function Of(t,e){var n;const{address:r,blockNumber:s,blockTag:a,hash:i,multicallAddress:o}=e,{authorization:c,data:u,signature:l,to:f}=Sl(e.signature);if(await jn(t,{address:r,blockNumber:s,blockTag:a})===bt(["0xef0100",c.address]))return await zf(t,{address:r,blockNumber:s,blockTag:a,hash:i,signature:l});const d={address:c.address,chainId:Number(c.chainId),nonce:Number(c.nonce),r:F(c.r,{size:32}),s:F(c.s,{size:32}),yParity:c.yParity};if(!await Mu({address:r,authorization:d}))throw new Mt;const b=await G(t,ft,"readContract")({...o?{address:o}:{code:yr},authorizationList:[d],abi:ze,blockNumber:s,blockTag:"pending",functionName:"aggregate3",args:[[...u?[{allowFailure:!0,target:f??r,callData:u}]:[],{allowFailure:!0,target:r,callData:dt({abi:Ms,functionName:"isValidSignature",args:[i,l]})}]]}),m=(n=b[b.length-1])==null?void 0:n.returnData;if(m!=null&&m.startsWith("0x1626ba7e"))return!0;throw new Mt}async function Sf(t,e){const{address:n,factory:r,factoryData:s,hash:a,signature:i,verifierAddress:o,...c}=e,u=await(async()=>!r&&!s||tf(i)?i:Ql({data:s,signature:i,to:r}))(),l=o?{to:o,data:dt({abi:qr,functionName:"isValidSig",args:[n,a,u]}),...c}:{data:gr({abi:qr,args:[n,a,u],bytecode:Sc}),...c},{data:f}=await G(t,Qe,"call")(l).catch(d=>{throw d instanceof fa?new Mt:d});if(ji(f??"0x0"))return!0;throw new Mt}async function zf(t,e){const{address:n,blockNumber:r,blockTag:s,hash:a,signature:i}=e;if((await G(t,ft,"readContract")({address:n,abi:Ms,args:[a,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(o=>{throw o instanceof da?new Mt:o})).startsWith("0x1626ba7e"))return!0;throw new Mt}class Mt extends Error{}async function Rf(t,{address:e,message:n,factory:r,factoryData:s,signature:a,...i}){const o=Rs(n);return G(t,un,"verifyHash")({address:e,factory:r,factoryData:s,hash:o,signature:a,...i})}async function Cf(t,e){const{address:n,factory:r,factoryData:s,signature:a,message:i,primaryType:o,types:c,domain:u,...l}=e,f=zi({message:i,primaryType:o,types:c,domain:u});return G(t,un,"verifyHash")({address:n,factory:r,factoryData:s,hash:f,signature:a,...l})}function Oi(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:i=t.pollingInterval}){const o=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return o?(()=>{const u=yt(["watchBlockNumber",t.uid,e,n,i]);return Ft(u,{onBlockNumber:r,onError:s},l=>se(async()=>{var f;try{const d=await G(t,Ee,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(d===c)return;if(d-c>1&&n)for(let b=c+1n;b<d;b++)l.onBlockNumber(b,c),c=b}(c===void 0||d>c)&&(l.onBlockNumber(d,c),c=d)}catch(d){(f=l.onError)==null||f.call(l,d)}},{emitOnBegin:e,interval:i}))})():(()=>{const u=yt(["watchBlockNumber",t.uid,e,n]);return Ft(u,{onBlockNumber:r,onError:s},l=>{let f=!0,d=()=>f=!1;return(async()=>{try{const b=(()=>{if(t.transport.type==="fallback"){const h=t.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return h?h.value:t.transport}return t.transport})(),{unsubscribe:m}=await b.subscribe({params:["newHeads"],onData(h){var v;if(!f)return;const g=ot((v=h.result)==null?void 0:v.number);l.onBlockNumber(g,c),c=g},onError(h){var v;(v=l.onError)==null||v.call(l,h)}});d=m,f||d()}catch(b){s?.(b)}})(),()=>d()})})()}async function Gf(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:a,retryCount:i=6,retryDelay:o=({count:y})=>~~(1<<y)*200,timeout:c=18e4}=e,u=yt(["waitForTransactionReceipt",t.uid,s]),l=(()=>{var y;return e.pollingInterval?e.pollingInterval:(y=t.chain)!=null&&y.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let f,d,b,m=!1,h,v;const{promise:g,resolve:k,reject:x}=zs(),p=c?setTimeout(()=>{v?.(),h?.(),x(new N0({hash:s}))},c):void 0;return h=Ft(u,{onReplaced:a,resolve:k,reject:x},async y=>{if(b=await G(t,Oe,"getTransactionReceipt")({hash:s}).catch(()=>{}),b&&r<=1){clearTimeout(p),y.resolve(b),h?.();return}v=G(t,Oi,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:l,async onBlockNumber(w){const B=z=>{clearTimeout(p),v?.(),z(),h?.()};let A=w;if(!m)try{if(b){if(r>1&&(!b.blockNumber||A-b.blockNumber+1n<r))return;B(()=>y.resolve(b));return}if(n&&!f&&(m=!0,await Tn(async()=>{f=await G(t,Or,"getTransaction")({hash:s}),f.blockNumber&&(A=f.blockNumber)},{delay:o,retryCount:i}),m=!1),b=await G(t,Oe,"getTransactionReceipt")({hash:s}),r>1&&(!b.blockNumber||A-b.blockNumber+1n<r))return;B(()=>y.resolve(b))}catch(z){if(z instanceof ua||z instanceof la){if(!f){m=!1;return}try{d=f,m=!0;const $=await Tn(()=>G(t,it,"getBlock")({blockNumber:A,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:P})=>P instanceof ga});m=!1;const T=$.transactions.find(({from:P,nonce:L})=>P===d.from&&L===d.nonce);if(!T||(b=await G(t,Oe,"getTransactionReceipt")({hash:T.hash}),r>1&&(!b.blockNumber||A-b.blockNumber+1n<r)))return;let S="replaced";T.to===d.to&&T.value===d.value&&T.input===d.input?S="repriced":T.from===T.to&&T.value===0n&&(S="cancelled"),B(()=>{var P;(P=y.onReplaced)==null||P.call(y,{reason:S,replacedTransaction:d,transaction:T,transactionReceipt:b}),y.resolve(b)})}catch($){B(()=>y.reject($))}}else B(()=>y.reject(z))}}})}),g}function Uf(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:i,poll:o,pollingInterval:c=t.pollingInterval}){const u=typeof o<"u"?o:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),l=i??!1;let f;return u?(()=>{const d=yt(["watchBlocks",t.uid,e,n,r,l,c]);return Ft(d,{onBlock:s,onError:a},b=>se(async()=>{var m;try{const h=await G(t,it,"getBlock")({blockTag:e,includeTransactions:l});if(h.number!==null&&f?.number!=null){if(h.number===f.number)return;if(h.number-f.number>1&&n)for(let v=f?.number+1n;v<h.number;v++){const g=await G(t,it,"getBlock")({blockNumber:v,includeTransactions:l});b.onBlock(g,f),f=g}}(f?.number==null||e==="pending"&&h?.number==null||h.number!==null&&h.number>f.number)&&(b.onBlock(h,f),f=h)}catch(h){(m=b.onError)==null||m.call(b,h)}},{emitOnBegin:r,interval:c}))})():(()=>{let d=!0,b=!0,m=()=>d=!1;return(async()=>{try{r&&G(t,it,"getBlock")({blockTag:e,includeTransactions:l}).then(g=>{d&&b&&(s(g,void 0),b=!1)}).catch(a);const h=(()=>{if(t.transport.type==="fallback"){const g=t.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return g?g.value:t.transport}return t.transport})(),{unsubscribe:v}=await h.subscribe({params:["newHeads"],async onData(g){var k;if(!d)return;const x=await G(t,it,"getBlock")({blockNumber:(k=g.result)==null?void 0:k.number,includeTransactions:l}).catch(()=>{});d&&(s(x,f),b=!1,f=x)},onError(g){a?.(g)}});m=v,d||m()}catch(h){a?.(h)}})(),()=>m()})()}function jf(t,{address:e,args:n,batch:r=!0,event:s,events:a,fromBlock:i,onError:o,onLogs:c,poll:u,pollingInterval:l=t.pollingInterval,strict:f}){const d=typeof u<"u"?u:typeof i=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),b=f??!1;return d?(()=>{const m=yt(["watchEvent",e,n,r,t.uid,s,l,i]);return Ft(m,{onLogs:c,onError:o},h=>{let v;i!==void 0&&(v=i-1n);let g,k=!1;const x=se(async()=>{var p;if(!k){try{g=await G(t,ti,"createEventFilter")({address:e,args:n,event:s,events:a,strict:b,fromBlock:i})}catch{}k=!0;return}try{let y;if(g)y=await G(t,tn,"getFilterChanges")({filter:g});else{const w=await G(t,Ee,"getBlockNumber")({});v&&v!==w?y=await G(t,pr,"getLogs")({address:e,args:n,event:s,events:a,fromBlock:v+1n,toBlock:w}):y=[],v=w}if(y.length===0)return;if(r)h.onLogs(y);else for(const w of y)h.onLogs([w])}catch(y){g&&y instanceof Qn&&(k=!1),(p=h.onError)==null||p.call(h,y)}},{emitOnBegin:!0,interval:l});return async()=>{g&&await G(t,en,"uninstallFilter")({filter:g}),x()}})})():(()=>{let m=!0,h=()=>m=!1;return(async()=>{try{const v=(()=>{if(t.transport.type==="fallback"){const p=t.transport.transports.find(y=>y.config.type==="webSocket"||y.config.type==="ipc");return p?p.value:t.transport}return t.transport})(),g=a??(s?[s]:void 0);let k=[];g&&(k=[g.flatMap(p=>we({abi:[p],eventName:p.name,args:n}))],s&&(k=k[0]));const{unsubscribe:x}=await v.subscribe({params:["logs",{address:e,topics:k}],onData(p){var y;if(!m)return;const w=p.result;try{const{eventName:B,args:A}=Ge({abi:g??[],data:w.data,topics:w.topics,strict:b}),z=At(w,{args:A,eventName:B});c([z])}catch(B){let A,z;if(B instanceof Se||B instanceof Jn){if(f)return;A=B.abiItem.name,z=(y=B.abiItem.inputs)==null?void 0:y.some(T=>!("name"in T&&T.name))}const $=At(w,{args:z?[]:{},eventName:A});c([$])}},onError(p){o?.(p)}});h=x,m||h()}catch(v){o?.(v)}})(),()=>h()})()}function Lf(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const i=yt(["watchPendingTransactions",t.uid,e,a]);return Ft(i,{onTransactions:r,onError:n},o=>{let c;const u=se(async()=>{var l;try{if(!c)try{c=await G(t,ei,"createPendingTransactionFilter")({});return}catch(d){throw u(),d}const f=await G(t,tn,"getFilterChanges")({filter:c});if(f.length===0)return;if(e)o.onTransactions(f);else for(const d of f)o.onTransactions([d])}catch(f){(l=o.onError)==null||l.call(o,f)}},{emitOnBegin:!0,interval:a});return async()=>{c&&await G(t,en,"uninstallFilter")({filter:c}),u()}})})():(()=>{let i=!0,o=()=>i=!1;return(async()=>{try{const{unsubscribe:c}=await t.transport.subscribe({params:["newPendingTransactions"],onData(u){if(!i)return;const l=u.result;r([l])},onError(u){n?.(u)}});o=c,i||o()}catch(c){n?.(c)}})(),()=>o()})()}function Mf(t){var e,n,r;const{scheme:s,statement:a,...i}=((e=t.match(qf))==null?void 0:e.groups)??{},{chainId:o,expirationTime:c,issuedAt:u,notBefore:l,requestId:f,...d}=((n=t.match(Df))==null?void 0:n.groups)??{},b=(r=t.split("Resources:")[1])==null?void 0:r.split(`
- `).slice(1);return{...i,...d,...o?{chainId:Number(o)}:{},...c?{expirationTime:new Date(c)}:{},...u?{issuedAt:new Date(u)}:{},...l?{notBefore:new Date(l)}:{},...f?{requestId:f}:{},...b?{resources:b}:{},...s?{scheme:s}:{},...a?{statement:a}:{}}}const qf=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Df=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Vf(t){const{address:e,domain:n,message:r,nonce:s,scheme:a,time:i=new Date}=t;if(n&&r.domain!==n||s&&r.nonce!==s||a&&r.scheme!==a||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!st(r.address,{strict:!1})||e&&!Ye(r.address,e))return!1}catch{return!1}return!0}async function Hf(t,e){const{address:n,domain:r,message:s,nonce:a,scheme:i,signature:o,time:c=new Date,...u}=e,l=Mf(s);if(!l.address||!Vf({address:n,domain:r,message:l,nonce:a,scheme:i,time:c}))return!1;const f=Rs(s);return un(t,{address:l.address,hash:f,signature:o,...u})}async function _f(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:r}){var s,a,i;const o=await t.request({method:"eth_sendRawTransactionSync",params:r?[e,F(r)]:[e]},{retryCount:0}),c=(((i=(a=(s=t.chain)==null?void 0:s.formatters)==null?void 0:a.transactionReceipt)==null?void 0:i.format)||wr)(o);if(c.status==="reverted"&&n)throw new I0({receipt:c});return c}function Zf(t){return{call:e=>Qe(t,e),createAccessList:e=>Qa(t,e),createBlockFilter:()=>xu(t),createContractEventFilter:e=>aa(t,e),createEventFilter:e=>ti(t,e),createPendingTransactionFilter:()=>ei(t),estimateContractGas:e=>tc(t,e),estimateGas:e=>br(t,e),getBalance:e=>Pu(t,e),getBlobBaseFee:()=>Bu(t),getBlock:e=>it(t,e),getBlockNumber:e=>Ee(t,e),getBlockTransactionCount:e=>Eu(t,e),getBytecode:e=>jn(t,e),getChainId:()=>dr(t),getCode:e=>jn(t,e),getContractEvents:e=>$a(t,e),getEip712Domain:e=>Iu(t,e),getEnsAddress:e=>au(t,e),getEnsAvatar:e=>gu(t,e),getEnsName:e=>wu(t,e),getEnsResolver:e=>vu(t,e),getEnsText:e=>Xa(t,e),getFeeHistory:e=>Fu(t,e),estimateFeesPerGas:e=>V0(t,e),getFilterChanges:e=>tn(t,e),getFilterLogs:e=>Tu(t,e),getGasPrice:()=>cr(t),getLogs:e=>pr(t,e),getProof:e=>Ul(t,e),estimateMaxPriorityFeePerGas:e=>D0(t,e),fillTransaction:e=>Fa(t,e),getStorageAt:e=>jl(t,e),getTransaction:e=>Or(t,e),getTransactionConfirmations:e=>Ll(t,e),getTransactionCount:e=>xa(t,e),getTransactionReceipt:e=>Oe(t,e),multicall:e=>Ml(t,e),prepareTransactionRequest:e=>Ta(t,e),readContract:e=>ft(t,e),sendRawTransaction:e=>_c(t,e),sendRawTransactionSync:e=>_f(t,e),simulate:e=>Dn(t,e),simulateBlocks:e=>Dn(t,e),simulateCalls:e=>Jl(t,e),simulateContract:e=>Uc(t,e),verifyHash:e=>un(t,e),verifyMessage:e=>Rf(t,e),verifySiweMessage:e=>Hf(t,e),verifyTypedData:e=>Cf(t,e),uninstallFilter:e=>en(t,e),waitForTransactionReceipt:e=>Gf(t,e),watchBlocks:e=>Uf(t,e),watchBlockNumber:e=>Oi(t,e),watchContractEvent:e=>Hc(t,e),watchEvent:e=>jf(t,e),watchPendingTransactions:e=>Lf(t,e)}}function rd(t){const{key:e="public",name:n="Public Client"}=t;return Xc({...t,key:e,name:n,type:"publicClient"}).extend(Zf)}function sd(t){const{r:e,s:n}=Gr.Signature.fromCompact(t.slice(2,130)),r=+`0x${t.slice(130)}`,[s,a]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:F(e,{size:32}),s:F(n,{size:32}),v:s,yParity:a}:{r:F(e,{size:32}),s:F(n,{size:32}),yParity:a}}export{A0 as $,Zc as A,xa as B,fa as C,V0 as D,Ha as E,F0 as F,jn as G,ir as H,ce as I,Kf as J,Ye as K,G as L,ee as M,ou as N,Rn as O,xe as P,Pr as Q,C0 as R,At as S,Ft as T,Lo as U,r0 as V,Ke as W,Qc as X,Fo as Y,Oo as Z,Gn as _,Yf as a,Na as a$,Go as a0,Xe as a1,Co as a2,P0 as a3,Ro as a4,So as a5,Mo as a6,B0 as a7,te as a8,E0 as a9,Va as aA,Oc as aB,gr as aC,gs as aD,we as aE,tu as aF,Sc as aG,Kl as aH,or as aI,rr as aJ,Pe as aK,re as aL,Xt as aM,Aa as aN,su as aO,We as aP,Un as aQ,e0 as aR,n0 as aS,hr as aT,Zf as aU,ba as aV,O0 as aW,U0 as aX,rn as aY,$f as aZ,_0 as a_,jo as aa,M0 as ab,He as ac,zo as ad,v0 as ae,k0 as af,ua as ag,la as ah,Uo as ai,To as aj,Jc as ak,N0 as al,ne as am,Er as an,Su as ao,zu as ap,ur as aq,lr as ar,c0 as as,u0 as at,Bt as au,l0 as av,Z0 as aw,Pa as ax,Ge as ay,Dt as az,Xc as b,J0 as b0,wa as b1,Dc as b2,ht as b3,rd as c,nd as d,dr as e,se as f,Q as g,ar as h,sa as i,nn as j,eu as k,ft as l,Qe as m,Xf as n,ed as o,da as p,w0 as q,Qf as r,td as s,Jf as t,sd as u,wr as v,ya as w,ve as x,g0 as y,ga as z};
